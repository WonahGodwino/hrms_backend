"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/payroll/upload/route";
exports.ids = ["app/api/payroll/upload/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "rimraf":
/*!*************************!*\
  !*** external "rimraf" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("rimraf");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "constants":
/*!****************************!*\
  !*** external "constants" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("constants");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("string_decoder");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

module.exports = import("pg");;

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpayroll%2Fupload%2Froute&page=%2Fapi%2Fpayroll%2Fupload%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpayroll%2Fupload%2Froute.ts&appDir=C%3A%5Chrms-project%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Chrms-project&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpayroll%2Fupload%2Froute&page=%2Fapi%2Fpayroll%2Fupload%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpayroll%2Fupload%2Froute.ts&appDir=C%3A%5Chrms-project%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Chrms-project&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_hrms_project_src_app_api_payroll_upload_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/payroll/upload/route.ts */ \"(rsc)/./src/app/api/payroll/upload/route.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([C_hrms_project_src_app_api_payroll_upload_route_ts__WEBPACK_IMPORTED_MODULE_3__]);\nC_hrms_project_src_app_api_payroll_upload_route_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/payroll/upload/route\",\n        pathname: \"/api/payroll/upload\",\n        filename: \"route\",\n        bundlePath: \"app/api/payroll/upload/route\"\n    },\n    resolvedPagePath: \"C:\\\\hrms-project\\\\src\\\\app\\\\api\\\\payroll\\\\upload\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_hrms_project_src_app_api_payroll_upload_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/payroll/upload/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwYXlyb2xsJTJGdXBsb2FkJTJGcm91dGUmcGFnZT0lMkZhcGklMkZwYXlyb2xsJTJGdXBsb2FkJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcGF5cm9sbCUyRnVwbG9hZCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDaHJtcy1wcm9qZWN0JTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDaHJtcy1wcm9qZWN0JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNVO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZILHFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaHJtcy1iYWNrZW5kLz80NWEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXGhybXMtcHJvamVjdFxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxwYXlyb2xsXFxcXHVwbG9hZFxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcGF5cm9sbC91cGxvYWQvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9wYXlyb2xsL3VwbG9hZFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcGF5cm9sbC91cGxvYWQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxocm1zLXByb2plY3RcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxccGF5cm9sbFxcXFx1cGxvYWRcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3BheXJvbGwvdXBsb2FkL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpayroll%2Fupload%2Froute&page=%2Fapi%2Fpayroll%2Fupload%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpayroll%2Fupload%2Froute.ts&appDir=C%3A%5Chrms-project%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Chrms-project&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/payroll/upload/route.ts":
/*!*********************************************!*\
  !*** ./src/app/api/payroll/upload/route.ts ***!
  \*********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _app_lib_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/app/lib/db */ \"(rsc)/./src/app/lib/db.ts\");\n/* harmony import */ var _app_lib_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/app/lib/auth */ \"(rsc)/./src/app/lib/auth.ts\");\n/* harmony import */ var _app_lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/app/lib/utils */ \"(rsc)/./src/app/lib/utils.ts\");\n/* harmony import */ var _app_lib_email__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/app/lib/email */ \"(rsc)/./src/app/lib/email.ts\");\n/* harmony import */ var exceljs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! exceljs */ \"(rsc)/./node_modules/exceljs/excel.js\");\n/* harmony import */ var exceljs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(exceljs__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _app_lib_payroll_generatePayslipPdf__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/app/lib/payroll/generatePayslipPdf */ \"(rsc)/./src/app/lib/payroll/generatePayslipPdf.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_app_lib_db__WEBPACK_IMPORTED_MODULE_0__, _app_lib_email__WEBPACK_IMPORTED_MODULE_3__]);\n([_app_lib_db__WEBPACK_IMPORTED_MODULE_0__, _app_lib_email__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// src/app/api/payroll/upload/route.ts\n\n\n\n\n\n\n\n\n// -----------------------------\n// Helpers\n// -----------------------------\nfunction normalizeHeader(h) {\n    return h.toString().replace(/\\s+/g, \" \").replace(/\\n/g, \" \").trim().toLowerCase();\n}\nfunction monthNameToNumber(month) {\n    if (!month) return 0;\n    const normalized = month.toString().trim().toLowerCase();\n    const months = [\n        \"january\",\n        \"february\",\n        \"march\",\n        \"april\",\n        \"may\",\n        \"june\",\n        \"july\",\n        \"august\",\n        \"september\",\n        \"october\",\n        \"november\",\n        \"december\"\n    ];\n    const idx = months.indexOf(normalized);\n    if (idx >= 0) return idx + 1;\n    const asNumber = Number(normalized);\n    return Number.isFinite(asNumber) ? asNumber : 0;\n}\nconst num = (v)=>v === null || v === undefined || v === \"\" ? 0 : Number(v) || 0;\n// Your authoritative payroll headers (normalized -> canonical)\nconst CANONICAL_HEADERS = [\n    \"Name\",\n    \"Resumption Date\",\n    \"No of Working Days in the Month\",\n    \"No of days Worked\",\n    \"Gross Pay\",\n    \"Prorated Gross Pay\",\n    \"Basic\",\n    \"Housing\",\n    \"Transport\",\n    \"Dressing\",\n    \"Leave Allowance\",\n    \"Entertainment\",\n    \"Utility\",\n    \"出勤薪资 Salary Of Attendance\",\n    \"PRORATED GROSS PAY WITH EXTRA ALL'WCE\",\n    \"TAXABLE INCOME\",\n    \"Payee\",\n    \"Pension\",\n    \"Deduction\",\n    \"Bonus KPI\",\n    \"Net Salary\",\n    \"FINAL GROSS\",\n    \"Medical Contribution\",\n    \"Employer Pension\",\n    \"NSITF\",\n    \"Prorated Sub Total Invoice\",\n    \"Mgt Fee\",\n    \"Vat on Management Fee @7.5%\",\n    \"Total Invoice Value\",\n    \"EMAIL\"\n];\n// build a normalized map for lookup\nconst canonicalMap = {};\nfor (const h of CANONICAL_HEADERS){\n    canonicalMap[normalizeHeader(h)] = h;\n}\n// required per-row columns for payslip generation\nconst REQUIRED_COLS = [\n    \"Gross Pay\",\n    \"Basic\",\n    \"Housing\",\n    \"Transport\",\n    \"Dressing\",\n    \"Leave Allowance\",\n    \"Entertainment\",\n    \"Utility\",\n    \"Payee\",\n    \"Pension\",\n    \"Deduction\",\n    \"Bonus KPI\",\n    \"Net Salary\",\n    \"FINAL GROSS\",\n    \"Medical Contribution\",\n    \"No of Working Days in the Month\",\n    \"No of days Worked\"\n];\n// Try to read a cell by canonical name (strict to your template)\nfunction getCell(row, canonical) {\n    const normalized = normalizeHeader(canonical);\n    const actualKey = canonicalMap[normalized] || canonical;\n    return row[actualKey];\n}\n// Detect percentage row (row 2 in your Excel template)\nfunction looksLikePercentageRow(rowObj) {\n    // If any required numeric header contains % as string, assume it's percentage line\n    for (const col of [\n        \"Basic\",\n        \"Housing\",\n        \"Transport\",\n        \"Dressing\",\n        \"Leave Allowance\",\n        \"Entertainment\",\n        \"Utility\",\n        \"Medical Contribution\"\n    ]){\n        const v = getCell(rowObj, col);\n        if (typeof v === \"string\" && v.includes(\"%\")) return true;\n    }\n    return false;\n}\n// CSV split respecting quoted commas\nfunction splitCsvLine(line) {\n    const result = [];\n    let cur = \"\";\n    let inQuotes = false;\n    for(let i = 0; i < line.length; i++){\n        const ch = line[i];\n        if (ch === '\"' && line[i + 1] === '\"') {\n            cur += '\"';\n            i++;\n            continue;\n        }\n        if (ch === '\"') {\n            inQuotes = !inQuotes;\n            continue;\n        }\n        if (ch === \",\" && !inQuotes) {\n            result.push(cur.trim());\n            cur = \"\";\n            continue;\n        }\n        cur += ch;\n    }\n    result.push(cur.trim());\n    return result;\n}\n// -----------------------------\n// POST /api/payroll/upload\n// -----------------------------\nasync function POST(request) {\n    try {\n        const token = request.headers.get(\"authorization\")?.replace(\"Bearer \", \"\");\n        const user = (0,_app_lib_auth__WEBPACK_IMPORTED_MODULE_1__.requireRole)(token, [\n            \"HR\",\n            \"SUPER_ADMIN\"\n        ]);\n        const formData = await request.formData();\n        const file = formData.get(\"file\");\n        const sendEmails = formData.get(\"sendEmails\") === \"true\";\n        if (!file) {\n            return _app_lib_utils__WEBPACK_IMPORTED_MODULE_2__.ApiResponse.error(\"File is required\", 400);\n        }\n        const bytes = await file.arrayBuffer();\n        const buffer = Buffer.from(bytes);\n        const fileExtension = file.name.split(\".\").pop()?.toLowerCase();\n        const isExcel = fileExtension === \"xlsx\" || fileExtension === \"xls\";\n        const isCsv = fileExtension === \"csv\" || file.type === \"text/csv\";\n        if (!isExcel && !isCsv) {\n            return _app_lib_utils__WEBPACK_IMPORTED_MODULE_2__.ApiResponse.error(\"Invalid file format. Please upload an Excel (.xlsx) or CSV (.csv) file.\", 400);\n        }\n        // 1) Parse file into row objects\n        let data = [];\n        try {\n            const workbook = new (exceljs__WEBPACK_IMPORTED_MODULE_4___default().Workbook)();\n            if (isCsv) {\n                const csvText = buffer.toString();\n                const lines = csvText.split(/\\r?\\n/).filter((l)=>l.trim());\n                if (!lines.length) throw new Error(\"Empty CSV file\");\n                const rawHeaders = splitCsvLine(lines[0]);\n                const headers = rawHeaders.map((h)=>canonicalMap[normalizeHeader(h)] || h);\n                // Build row objects from line 2 onward\n                for(let i = 1; i < lines.length; i++){\n                    const values = splitCsvLine(lines[i]);\n                    const rowData = {};\n                    headers.forEach((h, idx)=>{\n                        rowData[h] = values[idx] ?? \"\";\n                    });\n                    data.push(rowData);\n                }\n                // If line 2 looks like percentage row, drop it\n                if (data[0] && looksLikePercentageRow(data[0])) {\n                    data = data.slice(1);\n                }\n            } else {\n                await workbook.xlsx.load(buffer);\n                const worksheet = workbook.worksheets[0];\n                if (!worksheet) throw new Error(\"No worksheet found in Excel file\");\n                const headerRow = worksheet.getRow(1);\n                const headers = [];\n                headerRow.eachCell((cell, col)=>{\n                    const h = String(cell.value || \"\").trim();\n                    headers[col - 1] = canonicalMap[normalizeHeader(h)] || h;\n                });\n                // Grab row2 to decide if it's a percentage row\n                const row2 = worksheet.getRow(2);\n                const row2Obj = {};\n                row2.eachCell((cell, col)=>{\n                    const header = headers[col - 1];\n                    row2Obj[header] = cell.value;\n                });\n                const skipRow2 = looksLikePercentageRow(row2Obj);\n                worksheet.eachRow({\n                    includeEmpty: false\n                }, (row, rowNumber)=>{\n                    if (rowNumber === 1) return;\n                    if (skipRow2 && rowNumber === 2) return;\n                    const rowData = {};\n                    row.eachCell((cell, colNumber)=>{\n                        const header = headers[colNumber - 1];\n                        rowData[header] = cell.value;\n                    });\n                    // ignore fully empty rows\n                    const hasAny = Object.values(rowData).some((v)=>v !== null && v !== \"\");\n                    if (hasAny) data.push(rowData);\n                });\n            }\n        } catch (err) {\n            return _app_lib_utils__WEBPACK_IMPORTED_MODULE_2__.ApiResponse.error(`Error parsing file: ${err.message}`, 400);\n        }\n        if (!data.length) {\n            return _app_lib_utils__WEBPACK_IMPORTED_MODULE_2__.ApiResponse.error(\"No payroll data found in the file\", 400);\n        }\n        // 2) Process rows\n        const results = {\n            successful: 0,\n            failed: 0,\n            payslipsGenerated: 0,\n            emailsSent: 0,\n            processedRecords: [],\n            failedRecords: [],\n            errors: []\n        };\n        const now = new Date();\n        const defaultMonthName = now.toLocaleString(\"en-US\", {\n            month: \"long\"\n        });\n        const defaultYear = now.getFullYear();\n        for (const [index, row] of data.entries()){\n            // if row2 was skipped, first real data row is displayed as row3 in Excel\n            const displayRowNumber = index + 3;\n            try {\n                const rowData = row;\n                // Identify staff\n                const rawName = getCell(rowData, \"Name\") || \"\";\n                const name = rawName.toString().trim();\n                const rawEmail = getCell(rowData, \"EMAIL\") || \"\";\n                const email = rawEmail.toString().trim();\n                if (!name && !email) {\n                    const message = \"Missing Name/EMAIL for staff identification\";\n                    results.failed++;\n                    results.errors.push(`Row ${displayRowNumber}: ${message}`);\n                    results.failedRecords.push({\n                        ...rowData,\n                        error: message\n                    });\n                    continue;\n                }\n                // Column validation at row level (A2)\n                const missingCols = REQUIRED_COLS.filter((c)=>{\n                    const v = getCell(rowData, c);\n                    return v === undefined || v === null || v === \"\";\n                });\n                if (missingCols.length) {\n                    const message = `Missing required column values: ${missingCols.join(\", \")}`;\n                    results.failed++;\n                    results.errors.push(`Row ${displayRowNumber}: ${message}`);\n                    results.failedRecords.push({\n                        ...rowData,\n                        error: message\n                    });\n                    continue;\n                }\n                // Find staff record (email first, then fuzzy name)\n                let staffRecord = null;\n                if (email) {\n                    staffRecord = await _app_lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.staffRecord.findUnique({\n                        where: {\n                            email\n                        }\n                    });\n                }\n                if (!staffRecord && name) {\n                    const parts = name.split(\" \").filter(Boolean);\n                    const firstName = parts[0];\n                    const lastName = parts.slice(1).join(\" \") || parts[0];\n                    staffRecord = await _app_lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.staffRecord.findFirst({\n                        where: {\n                            isActive: true,\n                            OR: [\n                                {\n                                    AND: [\n                                        {\n                                            firstName: {\n                                                contains: firstName,\n                                                mode: \"insensitive\"\n                                            }\n                                        },\n                                        {\n                                            lastName: {\n                                                contains: lastName,\n                                                mode: \"insensitive\"\n                                            }\n                                        }\n                                    ]\n                                },\n                                {\n                                    AND: [\n                                        {\n                                            lastName: {\n                                                contains: firstName,\n                                                mode: \"insensitive\"\n                                            }\n                                        },\n                                        {\n                                            firstName: {\n                                                contains: lastName,\n                                                mode: \"insensitive\"\n                                            }\n                                        }\n                                    ]\n                                }\n                            ]\n                        }\n                    });\n                }\n                if (!staffRecord) {\n                    const message = `Staff record not found for ${name || email}. Staff must be pre-registered.`;\n                    results.failed++;\n                    results.errors.push(`Row ${displayRowNumber}: ${message}`);\n                    results.failedRecords.push({\n                        ...rowData,\n                        error: message\n                    });\n                    continue;\n                }\n                // Period fields (your sheet doesn’t have Month/Year; default if absent)\n                const monthName = rowData[\"Month\"]?.toString() || rowData[\"MONTH\"]?.toString() || defaultMonthName;\n                const year = parseInt(rowData[\"Year\"]?.toString() || rowData[\"YEAR\"]?.toString() || defaultYear.toString(), 10);\n                const periodMonth = monthNameToNumber(monthName);\n                // Extract STRICTLY from your template headings\n                const grossPay = num(getCell(rowData, \"Gross Pay\"));\n                const proratedGrossPay = num(getCell(rowData, \"Prorated Gross Pay\"));\n                const basicSalary = num(getCell(rowData, \"Basic\"));\n                const housing = num(getCell(rowData, \"Housing\"));\n                const transport = num(getCell(rowData, \"Transport\"));\n                const dressing = num(getCell(rowData, \"Dressing\"));\n                const leaveAllowance = num(getCell(rowData, \"Leave Allowance\"));\n                const entertainment = num(getCell(rowData, \"Entertainment\"));\n                const utility = num(getCell(rowData, \"Utility\"));\n                const payee = num(getCell(rowData, \"Payee\"));\n                const pension = num(getCell(rowData, \"Pension\"));\n                const deduction = num(getCell(rowData, \"Deduction\"));\n                const bonusKPI = num(getCell(rowData, \"Bonus KPI\"));\n                const netSalary = num(getCell(rowData, \"Net Salary\"));\n                const finalGross = num(getCell(rowData, \"FINAL GROSS\"));\n                const medicalContribution = num(getCell(rowData, \"Medical Contribution\"));\n                const daysInMonth = num(getCell(rowData, \"No of Working Days in the Month\"));\n                const daysWorked = num(getCell(rowData, \"No of days Worked\"));\n                // Basic sanity: net salary must not be negative\n                if (netSalary < 0) {\n                    const message = \"Net Salary cannot be negative. Check payroll values.\";\n                    results.failed++;\n                    results.errors.push(`Row ${displayRowNumber}: ${message}`);\n                    results.failedRecords.push({\n                        ...rowData,\n                        error: message\n                    });\n                    continue;\n                }\n                // Upsert payroll\n                const payroll = await _app_lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.payroll.upsert({\n                    where: {\n                        staffRecordId_month_year: {\n                            staffRecordId: staffRecord.id,\n                            month: monthName,\n                            year\n                        }\n                    },\n                    update: {\n                        month: monthName,\n                        year,\n                        grossPay,\n                        proratedGrossPay,\n                        basicSalary,\n                        housing,\n                        transport,\n                        dressing,\n                        leaveAllowance,\n                        entertainment,\n                        utility,\n                        bonusKPI,\n                        deductions: deduction,\n                        payee,\n                        pensionDeduction: pension,\n                        medicalContribution,\n                        netSalary,\n                        finalGross,\n                        status: \"PROCESSED\",\n                        uploadedBy: user.userId\n                    },\n                    create: {\n                        staffRecordId: staffRecord.id,\n                        month: monthName,\n                        year,\n                        grossPay,\n                        proratedGrossPay,\n                        basicSalary,\n                        housing,\n                        transport,\n                        dressing,\n                        leaveAllowance,\n                        entertainment,\n                        utility,\n                        bonusKPI,\n                        deductions: deduction,\n                        payee,\n                        pensionDeduction: pension,\n                        medicalContribution,\n                        netSalary,\n                        finalGross,\n                        status: \"PROCESSED\",\n                        uploadedBy: user.userId\n                    }\n                });\n                // If payslip already exists for that period, skip regenerating\n                const existingPayslip = await _app_lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.payslip.findFirst({\n                    where: {\n                        staffRecordId: staffRecord.id,\n                        month: monthName,\n                        year\n                    }\n                });\n                let pdfPath = null;\n                if (!existingPayslip) {\n                    // Build ParsedPayrollRow for HTML-based generator\n                    const parsedRow = {\n                        rowNumber: displayRowNumber,\n                        staffId: staffRecord.staffId,\n                        email: staffRecord.email,\n                        fullName: `${staffRecord.firstName} ${staffRecord.lastName}`,\n                        periodMonth,\n                        periodYear: year,\n                        basicSalary,\n                        housingAllowance: housing,\n                        transportAllowance: transport,\n                        transportationAllowance: dressing,\n                        otherAllowances: leaveAllowance + entertainment + utility,\n                        grossPay,\n                        payee,\n                        pension,\n                        netPay: netSalary,\n                        daysInMonth,\n                        daysWorked,\n                        rawRow: rowData\n                    };\n                    try {\n                        const { pdfPath: generatedPath } = await (0,_app_lib_payroll_generatePayslipPdf__WEBPACK_IMPORTED_MODULE_7__.generatePayslipPdf)({\n                            staff: {\n                                staffId: staffRecord.staffId,\n                                firstName: staffRecord.firstName,\n                                lastName: staffRecord.lastName,\n                                email: staffRecord.email,\n                                department: staffRecord.department || undefined,\n                                designation: staffRecord.designation || undefined\n                            },\n                            payroll: parsedRow\n                        });\n                        pdfPath = generatedPath;\n                        results.payslipsGenerated++;\n                    } catch (err) {\n                        const message = `Failed to generate payslip PDF - ${err.message}`;\n                        results.failed++;\n                        results.errors.push(`Row ${displayRowNumber}: ${message}`);\n                        results.failedRecords.push({\n                            ...rowData,\n                            error: message\n                        });\n                        continue;\n                    }\n                    // Create Payslip DB record\n                    try {\n                        const payslipFileName = path__WEBPACK_IMPORTED_MODULE_6___default().basename(pdfPath);\n                        await _app_lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.payslip.create({\n                            data: {\n                                payrollId: payroll.id,\n                                staffRecordId: staffRecord.id,\n                                filePath: pdfPath,\n                                fileName: payslipFileName,\n                                month: monthName,\n                                year,\n                                grossPay,\n                                netPay: netSalary\n                            }\n                        });\n                    } catch (err) {\n                        const message = `Payslip DB record error - ${err.message}`;\n                        results.failed++;\n                        results.errors.push(`Row ${displayRowNumber}: ${message}`);\n                        results.failedRecords.push({\n                            ...rowData,\n                            error: message\n                        });\n                        continue;\n                    }\n                }\n                // Email notification (kept from old + new)\n                if (sendEmails) {\n                    try {\n                        await (0,_app_lib_email__WEBPACK_IMPORTED_MODULE_3__.sendPayrollNotificationEmail)(staffRecord, {\n                            month: monthName,\n                            year,\n                            netSalary\n                        });\n                        results.emailsSent++;\n                    } catch (err) {\n                        const msg = `Email sending failed - ${err.message}`;\n                        results.errors.push(`Row ${displayRowNumber}: ${msg}`);\n                    // not failing the row because payslip was generated\n                    }\n                }\n                results.successful++;\n                results.processedRecords.push({\n                    ...rowData,\n                    staffId: staffRecord.staffId,\n                    staffName: `${staffRecord.firstName} ${staffRecord.lastName}`,\n                    netSalary,\n                    status: \"PROCESSED\"\n                });\n            } catch (err) {\n                const message = err?.message || \"Unknown error\";\n                results.failed++;\n                results.errors.push(`Row ${displayRowNumber}: ${message}`);\n                results.failedRecords.push({\n                    ...row,\n                    error: message\n                });\n            }\n        }\n        // 3) Create /uploads/payroll and failed records Excel (if needed)\n        const uploadDir = path__WEBPACK_IMPORTED_MODULE_6___default().join(process.cwd(), \"uploads\", \"payroll\");\n        await (0,fs_promises__WEBPACK_IMPORTED_MODULE_5__.mkdir)(uploadDir, {\n            recursive: true\n        });\n        let processedFilePath = null;\n        if (results.failedRecords.length > 0) {\n            const failedWorkbook = new (exceljs__WEBPACK_IMPORTED_MODULE_4___default().Workbook)();\n            const failedWorksheet = failedWorkbook.addWorksheet(\"Failed Records\");\n            // Collect all keys across failed records to avoid missing columns\n            const headersSet = new Set();\n            results.failedRecords.forEach((r)=>Object.keys(r).forEach((k)=>headersSet.add(k)));\n            headersSet.add(\"error\");\n            const headers = Array.from(headersSet);\n            failedWorksheet.columns = headers.map((h)=>({\n                    header: h,\n                    key: h,\n                    width: 22\n                }));\n            results.failedRecords.forEach((record)=>{\n                failedWorksheet.addRow(record);\n            });\n            const headerRow = failedWorksheet.getRow(1);\n            headerRow.font = {\n                bold: true,\n                color: {\n                    argb: \"FFFFFFFF\"\n                }\n            };\n            headerRow.fill = {\n                type: \"pattern\",\n                pattern: \"solid\",\n                fgColor: {\n                    argb: \"FFDC3545\"\n                }\n            };\n            const failedFileName = `failed-records-${Date.now()}.xlsx`;\n            const failedFilePath = path__WEBPACK_IMPORTED_MODULE_6___default().join(uploadDir, failedFileName);\n            const failedBuffer = await failedWorkbook.xlsx.writeBuffer();\n            await (0,fs_promises__WEBPACK_IMPORTED_MODULE_5__.writeFile)(failedFilePath, failedBuffer);\n            processedFilePath = failedFilePath;\n        }\n        // Create upload record\n        const uploadRecord = await _app_lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.payrollUpload.create({\n            data: {\n                fileName: file.name,\n                filePath: path__WEBPACK_IMPORTED_MODULE_6___default().join(uploadDir, file.name),\n                processedFilePath,\n                processedFileName: processedFilePath ? path__WEBPACK_IMPORTED_MODULE_6___default().basename(processedFilePath) : null,\n                totalRecords: data.length,\n                successful: results.successful,\n                failed: results.failed,\n                errors: results.errors,\n                uploadedBy: user.userId\n            }\n        });\n        // Save original file to uploads folder\n        await (0,fs_promises__WEBPACK_IMPORTED_MODULE_5__.writeFile)(path__WEBPACK_IMPORTED_MODULE_6___default().join(uploadDir, file.name), buffer);\n        const responseData = {\n            results,\n            uploadId: uploadRecord.id,\n            summary: {\n                totalProcessed: data.length,\n                successful: results.successful,\n                failed: results.failed,\n                payslipsGenerated: results.payslipsGenerated,\n                emailsSent: results.emailsSent\n            }\n        };\n        if (results.failedRecords.length > 0) {\n            responseData.failedRecordsDownload = `/api/payroll/download-failed/${uploadRecord.id}`;\n        }\n        return _app_lib_utils__WEBPACK_IMPORTED_MODULE_2__.ApiResponse.success(responseData, \"Payroll processing completed successfully\");\n    } catch (error) {\n        return (0,_app_lib_utils__WEBPACK_IMPORTED_MODULE_2__.handleApiError)(error);\n    }\n}\n// -----------------------------\n// GET /api/payroll/upload\n// Payroll template download\n// -----------------------------\nasync function GET(request) {\n    try {\n        const token = request.headers.get(\"authorization\")?.replace(\"Bearer \", \"\");\n        (0,_app_lib_auth__WEBPACK_IMPORTED_MODULE_1__.requireRole)(token, [\n            \"HR\",\n            \"SUPER_ADMIN\"\n        ]);\n        const workbook = new (exceljs__WEBPACK_IMPORTED_MODULE_4___default().Workbook)();\n        const worksheet = workbook.addWorksheet(\"Payroll Template\");\n        // Row 1: headers matching your real payroll sheet\n        worksheet.addRow([\n            \"Name\",\n            \"Resumption Date\",\n            \"No of Working Days in the Month\",\n            \" No of days Worked \",\n            \"Gross Pay\",\n            \"Prorated Gross Pay\",\n            \"Basic\",\n            \"Housing\",\n            \"Transport\",\n            \"Dressing\",\n            \"Leave Allowance\",\n            \"Entertainment\",\n            \"Utility\",\n            \"出勤薪资 Salary Of Attendance \",\n            \"PRORATED GROSS PAY WITH EXTRA ALL'WCE\",\n            \"TAXABLE INCOME\",\n            \"Payee\",\n            \"Pension\",\n            \"Deduction \",\n            \"Bonus KPI \",\n            \"Net Salary\",\n            \"FINAL GROSS\",\n            \"Medical Contribution\",\n            \"Employer Pension\",\n            \"NSITF\",\n            \"Prorated Sub Total\\nInvoice\",\n            \"Mgt Fee\",\n            \"Vat on Management Fee @7.5%\",\n            \"Total Invoice\\nValue\",\n            \"EMAIL\"\n        ]);\n        // Row 2: percentage row exactly like your file\n        worksheet.addRow([\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"50%\",\n            \"25%\",\n            \"25%\",\n            \"10%\",\n            \"8.33%\",\n            \"5%\",\n            \"5%\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"1%\",\n            \"10%\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\"\n        ]);\n        worksheet.addRow([\n            \"IMPORTANT:\"\n        ]);\n        worksheet.addRow([\n            \"- All amounts should be in Naira\"\n        ]);\n        worksheet.addRow([\n            \"- Staff must be pre-registered in the system\"\n        ]);\n        worksheet.addRow([\n            \"- Name or EMAIL must match exactly with registered staff record\"\n        ]);\n        worksheet.addRow([\n            \"- If a required column is missing in a row, that row will fail and be included in failed-records download.\"\n        ]);\n        const buffer = await workbook.xlsx.writeBuffer();\n        return new Response(buffer, {\n            headers: {\n                \"Content-Type\": \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n                \"Content-Disposition\": 'attachment; filename=\"payroll-template.xlsx\"',\n                \"Cache-Control\": \"no-cache\"\n            }\n        });\n    } catch (error) {\n        return (0,_app_lib_utils__WEBPACK_IMPORTED_MODULE_2__.handleApiError)(error);\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9wYXlyb2xsL3VwbG9hZC9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsc0NBQXNDO0FBRUQ7QUFDTztBQUNpQjtBQUNDO0FBQ2pDO0FBQ2lCO0FBQ3ZCO0FBQ2tEO0FBR3pFLGdDQUFnQztBQUNoQyxVQUFVO0FBQ1YsZ0NBQWdDO0FBRWhDLFNBQVNVLGdCQUFnQkMsQ0FBUztJQUNoQyxPQUFPQSxFQUNKQyxRQUFRLEdBQ1JDLE9BQU8sQ0FBQyxRQUFRLEtBQ2hCQSxPQUFPLENBQUMsT0FBTyxLQUNmQyxJQUFJLEdBQ0pDLFdBQVc7QUFDaEI7QUFFQSxTQUFTQyxrQkFBa0JDLEtBQWE7SUFDdEMsSUFBSSxDQUFDQSxPQUFPLE9BQU87SUFDbkIsTUFBTUMsYUFBYUQsTUFBTUwsUUFBUSxHQUFHRSxJQUFJLEdBQUdDLFdBQVc7SUFDdEQsTUFBTUksU0FBUztRQUNiO1FBQVU7UUFBVztRQUFRO1FBQVE7UUFBTTtRQUMzQztRQUFPO1FBQVM7UUFBWTtRQUFVO1FBQVc7S0FDbEQ7SUFDRCxNQUFNQyxNQUFNRCxPQUFPRSxPQUFPLENBQUNIO0lBQzNCLElBQUlFLE9BQU8sR0FBRyxPQUFPQSxNQUFNO0lBQzNCLE1BQU1FLFdBQVdDLE9BQU9MO0lBQ3hCLE9BQU9LLE9BQU9DLFFBQVEsQ0FBQ0YsWUFBWUEsV0FBVztBQUNoRDtBQUVBLE1BQU1HLE1BQU0sQ0FBQ0MsSUFDWEEsTUFBTSxRQUFRQSxNQUFNQyxhQUFhRCxNQUFNLEtBQUssSUFBSUgsT0FBT0csTUFBTTtBQUUvRCwrREFBK0Q7QUFDL0QsTUFBTUUsb0JBQW9CO0lBQ3hCO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtDQUNEO0FB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QUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtTQUNEO1FBRUR0SSxVQUFVc0ksTUFBTSxDQUFDO1lBQUM7U0FBYTtRQUMvQnRJLFVBQVVzSSxNQUFNLENBQUM7WUFBQztTQUFtQztRQUNyRHRJLFVBQVVzSSxNQUFNLENBQUM7WUFBQztTQUErQztRQUNqRXRJLFVBQVVzSSxNQUFNLENBQUM7WUFDZjtTQUNEO1FBQ0R0SSxVQUFVc0ksTUFBTSxDQUFDO1lBQ2Y7U0FDRDtRQUVELE1BQU1oSyxTQUFTLE1BQU1XLFNBQVNhLElBQUksQ0FBQ21KLFdBQVc7UUFFOUMsT0FBTyxJQUFJWSxTQUFTdkwsUUFBUTtZQUMxQlQsU0FBUztnQkFDUCxnQkFDRTtnQkFDRix1QkFBdUI7Z0JBQ3ZCLGlCQUFpQjtZQUNuQjtRQUNGO0lBQ0YsRUFBRSxPQUFPTSxPQUFPO1FBQ2QsT0FBT3RELDhEQUFjQSxDQUFDc0Q7SUFDeEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2hybXMtYmFja2VuZC8uL3NyYy9hcHAvYXBpL3BheXJvbGwvdXBsb2FkL3JvdXRlLnRzP2IyZWIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2FwcC9hcGkvcGF5cm9sbC91cGxvYWQvcm91dGUudHNcclxuaW1wb3J0IHsgTmV4dFJlcXVlc3QgfSBmcm9tICduZXh0L3NlcnZlcidcclxuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSAnQC9hcHAvbGliL2RiJ1xyXG5pbXBvcnQgeyByZXF1aXJlUm9sZSB9IGZyb20gJ0AvYXBwL2xpYi9hdXRoJ1xyXG5pbXBvcnQgeyBBcGlSZXNwb25zZSwgaGFuZGxlQXBpRXJyb3IgfSBmcm9tICdAL2FwcC9saWIvdXRpbHMnXHJcbmltcG9ydCB7IHNlbmRQYXlyb2xsTm90aWZpY2F0aW9uRW1haWwgfSBmcm9tICdAL2FwcC9saWIvZW1haWwnXHJcbmltcG9ydCBFeGNlbEpTIGZyb20gJ2V4Y2VsanMnXHJcbmltcG9ydCB7IHdyaXRlRmlsZSwgbWtkaXIgfSBmcm9tICdmcy9wcm9taXNlcydcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcclxuaW1wb3J0IHsgZ2VuZXJhdGVQYXlzbGlwUGRmIH0gZnJvbSAnQC9hcHAvbGliL3BheXJvbGwvZ2VuZXJhdGVQYXlzbGlwUGRmJ1xyXG5pbXBvcnQgdHlwZSB7IFBhcnNlZFBheXJvbGxSb3cgfSBmcm9tICdAL2FwcC9saWIvcGF5cm9sbC90eXBlcydcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIEhlbHBlcnNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUhlYWRlcihoOiBzdHJpbmcpIHtcclxuICByZXR1cm4gaFxyXG4gICAgLnRvU3RyaW5nKClcclxuICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJylcclxuICAgIC5yZXBsYWNlKC9cXG4vZywgJyAnKVxyXG4gICAgLnRyaW0oKVxyXG4gICAgLnRvTG93ZXJDYXNlKClcclxufVxyXG5cclxuZnVuY3Rpb24gbW9udGhOYW1lVG9OdW1iZXIobW9udGg6IHN0cmluZyk6IG51bWJlciB7XHJcbiAgaWYgKCFtb250aCkgcmV0dXJuIDBcclxuICBjb25zdCBub3JtYWxpemVkID0gbW9udGgudG9TdHJpbmcoKS50cmltKCkudG9Mb3dlckNhc2UoKVxyXG4gIGNvbnN0IG1vbnRocyA9IFtcclxuICAgICdqYW51YXJ5JywnZmVicnVhcnknLCdtYXJjaCcsJ2FwcmlsJywnbWF5JywnanVuZScsXHJcbiAgICAnanVseScsJ2F1Z3VzdCcsJ3NlcHRlbWJlcicsJ29jdG9iZXInLCdub3ZlbWJlcicsJ2RlY2VtYmVyJyxcclxuICBdXHJcbiAgY29uc3QgaWR4ID0gbW9udGhzLmluZGV4T2Yobm9ybWFsaXplZClcclxuICBpZiAoaWR4ID49IDApIHJldHVybiBpZHggKyAxXHJcbiAgY29uc3QgYXNOdW1iZXIgPSBOdW1iZXIobm9ybWFsaXplZClcclxuICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKGFzTnVtYmVyKSA/IGFzTnVtYmVyIDogMFxyXG59XHJcblxyXG5jb25zdCBudW0gPSAodjogYW55KSA9PlxyXG4gIHYgPT09IG51bGwgfHwgdiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09ICcnID8gMCA6IE51bWJlcih2KSB8fCAwXHJcblxyXG4vLyBZb3VyIGF1dGhvcml0YXRpdmUgcGF5cm9sbCBoZWFkZXJzIChub3JtYWxpemVkIC0+IGNhbm9uaWNhbClcclxuY29uc3QgQ0FOT05JQ0FMX0hFQURFUlMgPSBbXHJcbiAgJ05hbWUnLFxyXG4gICdSZXN1bXB0aW9uIERhdGUnLFxyXG4gICdObyBvZiBXb3JraW5nIERheXMgaW4gdGhlIE1vbnRoJyxcclxuICAnTm8gb2YgZGF5cyBXb3JrZWQnLFxyXG4gICdHcm9zcyBQYXknLFxyXG4gICdQcm9yYXRlZCBHcm9zcyBQYXknLFxyXG4gICdCYXNpYycsXHJcbiAgJ0hvdXNpbmcnLFxyXG4gICdUcmFuc3BvcnQnLFxyXG4gICdEcmVzc2luZycsXHJcbiAgJ0xlYXZlIEFsbG93YW5jZScsXHJcbiAgJ0VudGVydGFpbm1lbnQnLFxyXG4gICdVdGlsaXR5JyxcclxuICAn5Ye65Yuk6Jaq6LWEIFNhbGFyeSBPZiBBdHRlbmRhbmNlJyxcclxuICBcIlBST1JBVEVEIEdST1NTIFBBWSBXSVRIIEVYVFJBIEFMTCdXQ0VcIixcclxuICAnVEFYQUJMRSBJTkNPTUUnLFxyXG4gICdQYXllZScsXHJcbiAgJ1BlbnNpb24nLFxyXG4gICdEZWR1Y3Rpb24nLFxyXG4gICdCb251cyBLUEknLFxyXG4gICdOZXQgU2FsYXJ5JyxcclxuICAnRklOQUwgR1JPU1MnLFxyXG4gICdNZWRpY2FsIENvbnRyaWJ1dGlvbicsXHJcbiAgJ0VtcGxveWVyIFBlbnNpb24nLFxyXG4gICdOU0lURicsXHJcbiAgJ1Byb3JhdGVkIFN1YiBUb3RhbCBJbnZvaWNlJyxcclxuICAnTWd0IEZlZScsXHJcbiAgJ1ZhdCBvbiBNYW5hZ2VtZW50IEZlZSBANy41JScsXHJcbiAgJ1RvdGFsIEludm9pY2UgVmFsdWUnLFxyXG4gICdFTUFJTCcsXHJcbl1cclxuXHJcbi8vIGJ1aWxkIGEgbm9ybWFsaXplZCBtYXAgZm9yIGxvb2t1cFxyXG5jb25zdCBjYW5vbmljYWxNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fVxyXG5mb3IgKGNvbnN0IGggb2YgQ0FOT05JQ0FMX0hFQURFUlMpIHtcclxuICBjYW5vbmljYWxNYXBbbm9ybWFsaXplSGVhZGVyKGgpXSA9IGhcclxufVxyXG5cclxuLy8gcmVxdWlyZWQgcGVyLXJvdyBjb2x1bW5zIGZvciBwYXlzbGlwIGdlbmVyYXRpb25cclxuY29uc3QgUkVRVUlSRURfQ09MUyA9IFtcclxuICAnR3Jvc3MgUGF5JyxcclxuICAnQmFzaWMnLFxyXG4gICdIb3VzaW5nJyxcclxuICAnVHJhbnNwb3J0JyxcclxuICAnRHJlc3NpbmcnLFxyXG4gICdMZWF2ZSBBbGxvd2FuY2UnLFxyXG4gICdFbnRlcnRhaW5tZW50JyxcclxuICAnVXRpbGl0eScsXHJcbiAgJ1BheWVlJyxcclxuICAnUGVuc2lvbicsXHJcbiAgJ0RlZHVjdGlvbicsXHJcbiAgJ0JvbnVzIEtQSScsXHJcbiAgJ05ldCBTYWxhcnknLFxyXG4gICdGSU5BTCBHUk9TUycsXHJcbiAgJ01lZGljYWwgQ29udHJpYnV0aW9uJyxcclxuICAnTm8gb2YgV29ya2luZyBEYXlzIGluIHRoZSBNb250aCcsXHJcbiAgJ05vIG9mIGRheXMgV29ya2VkJyxcclxuXVxyXG5cclxuLy8gVHJ5IHRvIHJlYWQgYSBjZWxsIGJ5IGNhbm9uaWNhbCBuYW1lIChzdHJpY3QgdG8geW91ciB0ZW1wbGF0ZSlcclxuZnVuY3Rpb24gZ2V0Q2VsbChyb3c6IGFueSwgY2Fub25pY2FsOiBzdHJpbmcpIHtcclxuICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplSGVhZGVyKGNhbm9uaWNhbClcclxuICBjb25zdCBhY3R1YWxLZXkgPSBjYW5vbmljYWxNYXBbbm9ybWFsaXplZF0gfHwgY2Fub25pY2FsXHJcbiAgcmV0dXJuIHJvd1thY3R1YWxLZXldXHJcbn1cclxuXHJcbi8vIERldGVjdCBwZXJjZW50YWdlIHJvdyAocm93IDIgaW4geW91ciBFeGNlbCB0ZW1wbGF0ZSlcclxuZnVuY3Rpb24gbG9va3NMaWtlUGVyY2VudGFnZVJvdyhyb3dPYmo6IGFueSkge1xyXG4gIC8vIElmIGFueSByZXF1aXJlZCBudW1lcmljIGhlYWRlciBjb250YWlucyAlIGFzIHN0cmluZywgYXNzdW1lIGl0J3MgcGVyY2VudGFnZSBsaW5lXHJcbiAgZm9yIChjb25zdCBjb2wgb2YgWydCYXNpYycsJ0hvdXNpbmcnLCdUcmFuc3BvcnQnLCdEcmVzc2luZycsJ0xlYXZlIEFsbG93YW5jZScsJ0VudGVydGFpbm1lbnQnLCdVdGlsaXR5JywnTWVkaWNhbCBDb250cmlidXRpb24nXSkge1xyXG4gICAgY29uc3QgdiA9IGdldENlbGwocm93T2JqLCBjb2wpXHJcbiAgICBpZiAodHlwZW9mIHYgPT09ICdzdHJpbmcnICYmIHYuaW5jbHVkZXMoJyUnKSkgcmV0dXJuIHRydWVcclxuICB9XHJcbiAgcmV0dXJuIGZhbHNlXHJcbn1cclxuXHJcbi8vIENTViBzcGxpdCByZXNwZWN0aW5nIHF1b3RlZCBjb21tYXNcclxuZnVuY3Rpb24gc3BsaXRDc3ZMaW5lKGxpbmU6IHN0cmluZykge1xyXG4gIGNvbnN0IHJlc3VsdDogc3RyaW5nW10gPSBbXVxyXG4gIGxldCBjdXIgPSAnJ1xyXG4gIGxldCBpblF1b3RlcyA9IGZhbHNlXHJcblxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZS5sZW5ndGg7IGkrKykge1xyXG4gICAgY29uc3QgY2ggPSBsaW5lW2ldXHJcbiAgICBpZiAoY2ggPT09ICdcIicgJiYgbGluZVtpICsgMV0gPT09ICdcIicpIHtcclxuICAgICAgY3VyICs9ICdcIidcclxuICAgICAgaSsrXHJcbiAgICAgIGNvbnRpbnVlXHJcbiAgICB9XHJcbiAgICBpZiAoY2ggPT09ICdcIicpIHtcclxuICAgICAgaW5RdW90ZXMgPSAhaW5RdW90ZXNcclxuICAgICAgY29udGludWVcclxuICAgIH1cclxuICAgIGlmIChjaCA9PT0gJywnICYmICFpblF1b3Rlcykge1xyXG4gICAgICByZXN1bHQucHVzaChjdXIudHJpbSgpKVxyXG4gICAgICBjdXIgPSAnJ1xyXG4gICAgICBjb250aW51ZVxyXG4gICAgfVxyXG4gICAgY3VyICs9IGNoXHJcbiAgfVxyXG4gIHJlc3VsdC5wdXNoKGN1ci50cmltKCkpXHJcbiAgcmV0dXJuIHJlc3VsdFxyXG59XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBQT1NUIC9hcGkvcGF5cm9sbC91cGxvYWRcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdG9rZW4gPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdhdXRob3JpemF0aW9uJyk/LnJlcGxhY2UoJ0JlYXJlciAnLCAnJylcclxuICAgIGNvbnN0IHVzZXIgPSByZXF1aXJlUm9sZSh0b2tlbiwgWydIUicsICdTVVBFUl9BRE1JTiddKVxyXG5cclxuICAgIGNvbnN0IGZvcm1EYXRhID0gYXdhaXQgcmVxdWVzdC5mb3JtRGF0YSgpXHJcbiAgICBjb25zdCBmaWxlID0gZm9ybURhdGEuZ2V0KCdmaWxlJykgYXMgRmlsZVxyXG4gICAgY29uc3Qgc2VuZEVtYWlscyA9IGZvcm1EYXRhLmdldCgnc2VuZEVtYWlscycpID09PSAndHJ1ZSdcclxuXHJcbiAgICBpZiAoIWZpbGUpIHtcclxuICAgICAgcmV0dXJuIEFwaVJlc3BvbnNlLmVycm9yKCdGaWxlIGlzIHJlcXVpcmVkJywgNDAwKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGJ5dGVzID0gYXdhaXQgZmlsZS5hcnJheUJ1ZmZlcigpXHJcbiAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuZnJvbShieXRlcylcclxuXHJcbiAgICBjb25zdCBmaWxlRXh0ZW5zaW9uID0gZmlsZS5uYW1lLnNwbGl0KCcuJykucG9wKCk/LnRvTG93ZXJDYXNlKClcclxuICAgIGNvbnN0IGlzRXhjZWwgPSBmaWxlRXh0ZW5zaW9uID09PSAneGxzeCcgfHwgZmlsZUV4dGVuc2lvbiA9PT0gJ3hscydcclxuICAgIGNvbnN0IGlzQ3N2ID0gZmlsZUV4dGVuc2lvbiA9PT0gJ2NzdicgfHwgZmlsZS50eXBlID09PSAndGV4dC9jc3YnXHJcblxyXG4gICAgaWYgKCFpc0V4Y2VsICYmICFpc0Nzdikge1xyXG4gICAgICByZXR1cm4gQXBpUmVzcG9uc2UuZXJyb3IoXHJcbiAgICAgICAgJ0ludmFsaWQgZmlsZSBmb3JtYXQuIFBsZWFzZSB1cGxvYWQgYW4gRXhjZWwgKC54bHN4KSBvciBDU1YgKC5jc3YpIGZpbGUuJyxcclxuICAgICAgICA0MDBcclxuICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIDEpIFBhcnNlIGZpbGUgaW50byByb3cgb2JqZWN0c1xyXG4gICAgbGV0IGRhdGE6IGFueVtdID0gW11cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB3b3JrYm9vayA9IG5ldyBFeGNlbEpTLldvcmtib29rKClcclxuXHJcbiAgICAgIGlmIChpc0Nzdikge1xyXG4gICAgICAgIGNvbnN0IGNzdlRleHQgPSBidWZmZXIudG9TdHJpbmcoKVxyXG4gICAgICAgIGNvbnN0IGxpbmVzID0gY3N2VGV4dC5zcGxpdCgvXFxyP1xcbi8pLmZpbHRlcigobCkgPT4gbC50cmltKCkpXHJcbiAgICAgICAgaWYgKCFsaW5lcy5sZW5ndGgpIHRocm93IG5ldyBFcnJvcignRW1wdHkgQ1NWIGZpbGUnKVxyXG5cclxuICAgICAgICBjb25zdCByYXdIZWFkZXJzID0gc3BsaXRDc3ZMaW5lKGxpbmVzWzBdKVxyXG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSByYXdIZWFkZXJzLm1hcCgoaCkgPT4gY2Fub25pY2FsTWFwW25vcm1hbGl6ZUhlYWRlcihoKV0gfHwgaClcclxuXHJcbiAgICAgICAgLy8gQnVpbGQgcm93IG9iamVjdHMgZnJvbSBsaW5lIDIgb253YXJkXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgY29uc3QgdmFsdWVzID0gc3BsaXRDc3ZMaW5lKGxpbmVzW2ldKVxyXG4gICAgICAgICAgY29uc3Qgcm93RGF0YTogYW55ID0ge31cclxuICAgICAgICAgIGhlYWRlcnMuZm9yRWFjaCgoaCwgaWR4KSA9PiB7XHJcbiAgICAgICAgICAgIHJvd0RhdGFbaF0gPSB2YWx1ZXNbaWR4XSA/PyAnJ1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIGRhdGEucHVzaChyb3dEYXRhKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgbGluZSAyIGxvb2tzIGxpa2UgcGVyY2VudGFnZSByb3csIGRyb3AgaXRcclxuICAgICAgICBpZiAoZGF0YVswXSAmJiBsb29rc0xpa2VQZXJjZW50YWdlUm93KGRhdGFbMF0pKSB7XHJcbiAgICAgICAgICBkYXRhID0gZGF0YS5zbGljZSgxKVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhd2FpdCB3b3JrYm9vay54bHN4LmxvYWQoYnVmZmVyKVxyXG4gICAgICAgIGNvbnN0IHdvcmtzaGVldCA9IHdvcmtib29rLndvcmtzaGVldHNbMF1cclxuICAgICAgICBpZiAoIXdvcmtzaGVldCkgdGhyb3cgbmV3IEVycm9yKCdObyB3b3Jrc2hlZXQgZm91bmQgaW4gRXhjZWwgZmlsZScpXHJcblxyXG4gICAgICAgIGNvbnN0IGhlYWRlclJvdyA9IHdvcmtzaGVldC5nZXRSb3coMSlcclxuICAgICAgICBjb25zdCBoZWFkZXJzOiBzdHJpbmdbXSA9IFtdXHJcbiAgICAgICAgaGVhZGVyUm93LmVhY2hDZWxsKChjZWxsLCBjb2wpID0+IHtcclxuICAgICAgICAgIGNvbnN0IGggPSBTdHJpbmcoY2VsbC52YWx1ZSB8fCAnJykudHJpbSgpXHJcbiAgICAgICAgICBoZWFkZXJzW2NvbCAtIDFdID0gY2Fub25pY2FsTWFwW25vcm1hbGl6ZUhlYWRlcihoKV0gfHwgaFxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC8vIEdyYWIgcm93MiB0byBkZWNpZGUgaWYgaXQncyBhIHBlcmNlbnRhZ2Ugcm93XHJcbiAgICAgICAgY29uc3Qgcm93MiA9IHdvcmtzaGVldC5nZXRSb3coMilcclxuICAgICAgICBjb25zdCByb3cyT2JqOiBhbnkgPSB7fVxyXG4gICAgICAgIHJvdzIuZWFjaENlbGwoKGNlbGwsIGNvbCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgaGVhZGVyID0gaGVhZGVyc1tjb2wgLSAxXVxyXG4gICAgICAgICAgcm93Mk9ialtoZWFkZXJdID0gY2VsbC52YWx1ZVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgY29uc3Qgc2tpcFJvdzIgPSBsb29rc0xpa2VQZXJjZW50YWdlUm93KHJvdzJPYmopXHJcblxyXG4gICAgICAgIHdvcmtzaGVldC5lYWNoUm93KHsgaW5jbHVkZUVtcHR5OiBmYWxzZSB9LCAocm93LCByb3dOdW1iZXIpID0+IHtcclxuICAgICAgICAgIGlmIChyb3dOdW1iZXIgPT09IDEpIHJldHVyblxyXG4gICAgICAgICAgaWYgKHNraXBSb3cyICYmIHJvd051bWJlciA9PT0gMikgcmV0dXJuXHJcblxyXG4gICAgICAgICAgY29uc3Qgcm93RGF0YTogYW55ID0ge31cclxuICAgICAgICAgIHJvdy5lYWNoQ2VsbCgoY2VsbCwgY29sTnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhlYWRlciA9IGhlYWRlcnNbY29sTnVtYmVyIC0gMV1cclxuICAgICAgICAgICAgcm93RGF0YVtoZWFkZXJdID0gY2VsbC52YWx1ZVxyXG4gICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAvLyBpZ25vcmUgZnVsbHkgZW1wdHkgcm93c1xyXG4gICAgICAgICAgY29uc3QgaGFzQW55ID0gT2JqZWN0LnZhbHVlcyhyb3dEYXRhKS5zb21lKCh2KSA9PiB2ICE9PSBudWxsICYmIHYgIT09ICcnKVxyXG4gICAgICAgICAgaWYgKGhhc0FueSkgZGF0YS5wdXNoKHJvd0RhdGEpXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcclxuICAgICAgcmV0dXJuIEFwaVJlc3BvbnNlLmVycm9yKGBFcnJvciBwYXJzaW5nIGZpbGU6ICR7ZXJyLm1lc3NhZ2V9YCwgNDAwKVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghZGF0YS5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIEFwaVJlc3BvbnNlLmVycm9yKCdObyBwYXlyb2xsIGRhdGEgZm91bmQgaW4gdGhlIGZpbGUnLCA0MDApXHJcbiAgICB9XHJcblxyXG4gICAgLy8gMikgUHJvY2VzcyByb3dzXHJcbiAgICBjb25zdCByZXN1bHRzID0ge1xyXG4gICAgICBzdWNjZXNzZnVsOiAwLFxyXG4gICAgICBmYWlsZWQ6IDAsXHJcbiAgICAgIHBheXNsaXBzR2VuZXJhdGVkOiAwLFxyXG4gICAgICBlbWFpbHNTZW50OiAwLFxyXG4gICAgICBwcm9jZXNzZWRSZWNvcmRzOiBbXSBhcyBhbnlbXSxcclxuICAgICAgZmFpbGVkUmVjb3JkczogW10gYXMgYW55W10sXHJcbiAgICAgIGVycm9yczogW10gYXMgc3RyaW5nW10sXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKVxyXG4gICAgY29uc3QgZGVmYXVsdE1vbnRoTmFtZSA9IG5vdy50b0xvY2FsZVN0cmluZygnZW4tVVMnLCB7IG1vbnRoOiAnbG9uZycgfSlcclxuICAgIGNvbnN0IGRlZmF1bHRZZWFyID0gbm93LmdldEZ1bGxZZWFyKClcclxuXHJcbiAgICBmb3IgKGNvbnN0IFtpbmRleCwgcm93XSBvZiBkYXRhLmVudHJpZXMoKSkge1xyXG4gICAgICAvLyBpZiByb3cyIHdhcyBza2lwcGVkLCBmaXJzdCByZWFsIGRhdGEgcm93IGlzIGRpc3BsYXllZCBhcyByb3czIGluIEV4Y2VsXHJcbiAgICAgIGNvbnN0IGRpc3BsYXlSb3dOdW1iZXIgPSBpbmRleCArIDNcclxuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3Qgcm93RGF0YSA9IHJvdyBhcyBhbnlcclxuXHJcbiAgICAgICAgLy8gSWRlbnRpZnkgc3RhZmZcclxuICAgICAgICBjb25zdCByYXdOYW1lID0gZ2V0Q2VsbChyb3dEYXRhLCAnTmFtZScpIHx8ICcnXHJcbiAgICAgICAgY29uc3QgbmFtZSA9IHJhd05hbWUudG9TdHJpbmcoKS50cmltKClcclxuXHJcbiAgICAgICAgY29uc3QgcmF3RW1haWwgPSBnZXRDZWxsKHJvd0RhdGEsICdFTUFJTCcpIHx8ICcnXHJcbiAgICAgICAgY29uc3QgZW1haWwgPSByYXdFbWFpbC50b1N0cmluZygpLnRyaW0oKVxyXG5cclxuICAgICAgICBpZiAoIW5hbWUgJiYgIWVtYWlsKSB7XHJcbiAgICAgICAgICBjb25zdCBtZXNzYWdlID0gJ01pc3NpbmcgTmFtZS9FTUFJTCBmb3Igc3RhZmYgaWRlbnRpZmljYXRpb24nXHJcbiAgICAgICAgICByZXN1bHRzLmZhaWxlZCsrXHJcbiAgICAgICAgICByZXN1bHRzLmVycm9ycy5wdXNoKGBSb3cgJHtkaXNwbGF5Um93TnVtYmVyfTogJHttZXNzYWdlfWApXHJcbiAgICAgICAgICByZXN1bHRzLmZhaWxlZFJlY29yZHMucHVzaCh7IC4uLnJvd0RhdGEsIGVycm9yOiBtZXNzYWdlIH0pXHJcbiAgICAgICAgICBjb250aW51ZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ29sdW1uIHZhbGlkYXRpb24gYXQgcm93IGxldmVsIChBMilcclxuICAgICAgICBjb25zdCBtaXNzaW5nQ29scyA9IFJFUVVJUkVEX0NPTFMuZmlsdGVyKChjKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCB2ID0gZ2V0Q2VsbChyb3dEYXRhLCBjKVxyXG4gICAgICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSBudWxsIHx8IHYgPT09ICcnXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgaWYgKG1pc3NpbmdDb2xzLmxlbmd0aCkge1xyXG4gICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBNaXNzaW5nIHJlcXVpcmVkIGNvbHVtbiB2YWx1ZXM6ICR7bWlzc2luZ0NvbHMuam9pbignLCAnKX1gXHJcbiAgICAgICAgICByZXN1bHRzLmZhaWxlZCsrXHJcbiAgICAgICAgICByZXN1bHRzLmVycm9ycy5wdXNoKGBSb3cgJHtkaXNwbGF5Um93TnVtYmVyfTogJHttZXNzYWdlfWApXHJcbiAgICAgICAgICByZXN1bHRzLmZhaWxlZFJlY29yZHMucHVzaCh7IC4uLnJvd0RhdGEsIGVycm9yOiBtZXNzYWdlIH0pXHJcbiAgICAgICAgICBjb250aW51ZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRmluZCBzdGFmZiByZWNvcmQgKGVtYWlsIGZpcnN0LCB0aGVuIGZ1enp5IG5hbWUpXHJcbiAgICAgICAgbGV0IHN0YWZmUmVjb3JkID0gbnVsbFxyXG5cclxuICAgICAgICBpZiAoZW1haWwpIHtcclxuICAgICAgICAgIHN0YWZmUmVjb3JkID0gYXdhaXQgcHJpc21hLnN0YWZmUmVjb3JkLmZpbmRVbmlxdWUoe1xyXG4gICAgICAgICAgICB3aGVyZTogeyBlbWFpbCB9LFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghc3RhZmZSZWNvcmQgJiYgbmFtZSkge1xyXG4gICAgICAgICAgY29uc3QgcGFydHMgPSBuYW1lLnNwbGl0KCcgJykuZmlsdGVyKEJvb2xlYW4pXHJcbiAgICAgICAgICBjb25zdCBmaXJzdE5hbWUgPSBwYXJ0c1swXVxyXG4gICAgICAgICAgY29uc3QgbGFzdE5hbWUgPSBwYXJ0cy5zbGljZSgxKS5qb2luKCcgJykgfHwgcGFydHNbMF1cclxuXHJcbiAgICAgICAgICBzdGFmZlJlY29yZCA9IGF3YWl0IHByaXNtYS5zdGFmZlJlY29yZC5maW5kRmlyc3Qoe1xyXG4gICAgICAgICAgICB3aGVyZToge1xyXG4gICAgICAgICAgICAgIGlzQWN0aXZlOiB0cnVlLFxyXG4gICAgICAgICAgICAgIE9SOiBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgIEFORDogW1xyXG4gICAgICAgICAgICAgICAgICAgIHsgZmlyc3ROYW1lOiB7IGNvbnRhaW5zOiBmaXJzdE5hbWUsIG1vZGU6ICdpbnNlbnNpdGl2ZScgfSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbGFzdE5hbWU6IHsgY29udGFpbnM6IGxhc3ROYW1lLCBtb2RlOiAnaW5zZW5zaXRpdmUnIH0gfSxcclxuICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgIEFORDogW1xyXG4gICAgICAgICAgICAgICAgICAgIHsgbGFzdE5hbWU6IHsgY29udGFpbnM6IGZpcnN0TmFtZSwgbW9kZTogJ2luc2Vuc2l0aXZlJyB9IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBmaXJzdE5hbWU6IHsgY29udGFpbnM6IGxhc3ROYW1lLCBtb2RlOiAnaW5zZW5zaXRpdmUnIH0gfSxcclxuICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXN0YWZmUmVjb3JkKSB7XHJcbiAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYFN0YWZmIHJlY29yZCBub3QgZm91bmQgZm9yICR7bmFtZSB8fCBlbWFpbH0uIFN0YWZmIG11c3QgYmUgcHJlLXJlZ2lzdGVyZWQuYFxyXG4gICAgICAgICAgcmVzdWx0cy5mYWlsZWQrK1xyXG4gICAgICAgICAgcmVzdWx0cy5lcnJvcnMucHVzaChgUm93ICR7ZGlzcGxheVJvd051bWJlcn06ICR7bWVzc2FnZX1gKVxyXG4gICAgICAgICAgcmVzdWx0cy5mYWlsZWRSZWNvcmRzLnB1c2goeyAuLi5yb3dEYXRhLCBlcnJvcjogbWVzc2FnZSB9KVxyXG4gICAgICAgICAgY29udGludWVcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFBlcmlvZCBmaWVsZHMgKHlvdXIgc2hlZXQgZG9lc27igJl0IGhhdmUgTW9udGgvWWVhcjsgZGVmYXVsdCBpZiBhYnNlbnQpXHJcbiAgICAgICAgY29uc3QgbW9udGhOYW1lID1cclxuICAgICAgICAgIHJvd0RhdGFbJ01vbnRoJ10/LnRvU3RyaW5nKCkgfHxcclxuICAgICAgICAgIHJvd0RhdGFbJ01PTlRIJ10/LnRvU3RyaW5nKCkgfHxcclxuICAgICAgICAgIGRlZmF1bHRNb250aE5hbWVcclxuXHJcbiAgICAgICAgY29uc3QgeWVhciA9IHBhcnNlSW50KFxyXG4gICAgICAgICAgcm93RGF0YVsnWWVhciddPy50b1N0cmluZygpIHx8XHJcbiAgICAgICAgICAgIHJvd0RhdGFbJ1lFQVInXT8udG9TdHJpbmcoKSB8fFxyXG4gICAgICAgICAgICBkZWZhdWx0WWVhci50b1N0cmluZygpLFxyXG4gICAgICAgICAgMTBcclxuICAgICAgICApXHJcblxyXG4gICAgICAgIGNvbnN0IHBlcmlvZE1vbnRoID0gbW9udGhOYW1lVG9OdW1iZXIobW9udGhOYW1lKVxyXG5cclxuICAgICAgICAvLyBFeHRyYWN0IFNUUklDVExZIGZyb20geW91ciB0ZW1wbGF0ZSBoZWFkaW5nc1xyXG4gICAgICAgIGNvbnN0IGdyb3NzUGF5ID0gbnVtKGdldENlbGwocm93RGF0YSwgJ0dyb3NzIFBheScpKVxyXG4gICAgICAgIGNvbnN0IHByb3JhdGVkR3Jvc3NQYXkgPSBudW0oZ2V0Q2VsbChyb3dEYXRhLCAnUHJvcmF0ZWQgR3Jvc3MgUGF5JykpXHJcblxyXG4gICAgICAgIGNvbnN0IGJhc2ljU2FsYXJ5ID0gbnVtKGdldENlbGwocm93RGF0YSwgJ0Jhc2ljJykpXHJcbiAgICAgICAgY29uc3QgaG91c2luZyA9IG51bShnZXRDZWxsKHJvd0RhdGEsICdIb3VzaW5nJykpXHJcbiAgICAgICAgY29uc3QgdHJhbnNwb3J0ID0gbnVtKGdldENlbGwocm93RGF0YSwgJ1RyYW5zcG9ydCcpKVxyXG4gICAgICAgIGNvbnN0IGRyZXNzaW5nID0gbnVtKGdldENlbGwocm93RGF0YSwgJ0RyZXNzaW5nJykpXHJcbiAgICAgICAgY29uc3QgbGVhdmVBbGxvd2FuY2UgPSBudW0oZ2V0Q2VsbChyb3dEYXRhLCAnTGVhdmUgQWxsb3dhbmNlJykpXHJcbiAgICAgICAgY29uc3QgZW50ZXJ0YWlubWVudCA9IG51bShnZXRDZWxsKHJvd0RhdGEsICdFbnRlcnRhaW5tZW50JykpXHJcbiAgICAgICAgY29uc3QgdXRpbGl0eSA9IG51bShnZXRDZWxsKHJvd0RhdGEsICdVdGlsaXR5JykpXHJcblxyXG4gICAgICAgIGNvbnN0IHBheWVlID0gbnVtKGdldENlbGwocm93RGF0YSwgJ1BheWVlJykpXHJcbiAgICAgICAgY29uc3QgcGVuc2lvbiA9IG51bShnZXRDZWxsKHJvd0RhdGEsICdQZW5zaW9uJykpXHJcbiAgICAgICAgY29uc3QgZGVkdWN0aW9uID0gbnVtKGdldENlbGwocm93RGF0YSwgJ0RlZHVjdGlvbicpKVxyXG4gICAgICAgIGNvbnN0IGJvbnVzS1BJID0gbnVtKGdldENlbGwocm93RGF0YSwgJ0JvbnVzIEtQSScpKVxyXG4gICAgICAgIGNvbnN0IG5ldFNhbGFyeSA9IG51bShnZXRDZWxsKHJvd0RhdGEsICdOZXQgU2FsYXJ5JykpXHJcbiAgICAgICAgY29uc3QgZmluYWxHcm9zcyA9IG51bShnZXRDZWxsKHJvd0RhdGEsICdGSU5BTCBHUk9TUycpKVxyXG4gICAgICAgIGNvbnN0IG1lZGljYWxDb250cmlidXRpb24gPSBudW0oZ2V0Q2VsbChyb3dEYXRhLCAnTWVkaWNhbCBDb250cmlidXRpb24nKSlcclxuXHJcbiAgICAgICAgY29uc3QgZGF5c0luTW9udGggPSBudW0oZ2V0Q2VsbChyb3dEYXRhLCAnTm8gb2YgV29ya2luZyBEYXlzIGluIHRoZSBNb250aCcpKVxyXG4gICAgICAgIGNvbnN0IGRheXNXb3JrZWQgPSBudW0oZ2V0Q2VsbChyb3dEYXRhLCAnTm8gb2YgZGF5cyBXb3JrZWQnKSlcclxuXHJcbiAgICAgICAgLy8gQmFzaWMgc2FuaXR5OiBuZXQgc2FsYXJ5IG11c3Qgbm90IGJlIG5lZ2F0aXZlXHJcbiAgICAgICAgaWYgKG5ldFNhbGFyeSA8IDApIHtcclxuICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSAnTmV0IFNhbGFyeSBjYW5ub3QgYmUgbmVnYXRpdmUuIENoZWNrIHBheXJvbGwgdmFsdWVzLidcclxuICAgICAgICAgIHJlc3VsdHMuZmFpbGVkKytcclxuICAgICAgICAgIHJlc3VsdHMuZXJyb3JzLnB1c2goYFJvdyAke2Rpc3BsYXlSb3dOdW1iZXJ9OiAke21lc3NhZ2V9YClcclxuICAgICAgICAgIHJlc3VsdHMuZmFpbGVkUmVjb3Jkcy5wdXNoKHsgLi4ucm93RGF0YSwgZXJyb3I6IG1lc3NhZ2UgfSlcclxuICAgICAgICAgIGNvbnRpbnVlXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBVcHNlcnQgcGF5cm9sbFxyXG4gICAgICAgIGNvbnN0IHBheXJvbGwgPSBhd2FpdCBwcmlzbWEucGF5cm9sbC51cHNlcnQoe1xyXG4gICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgc3RhZmZSZWNvcmRJZF9tb250aF95ZWFyOiB7XHJcbiAgICAgICAgICAgICAgc3RhZmZSZWNvcmRJZDogc3RhZmZSZWNvcmQuaWQsXHJcbiAgICAgICAgICAgICAgbW9udGg6IG1vbnRoTmFtZSxcclxuICAgICAgICAgICAgICB5ZWFyLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHVwZGF0ZToge1xyXG4gICAgICAgICAgICBtb250aDogbW9udGhOYW1lLFxyXG4gICAgICAgICAgICB5ZWFyLFxyXG4gICAgICAgICAgICBncm9zc1BheSxcclxuICAgICAgICAgICAgcHJvcmF0ZWRHcm9zc1BheSxcclxuICAgICAgICAgICAgYmFzaWNTYWxhcnksXHJcbiAgICAgICAgICAgIGhvdXNpbmcsXHJcbiAgICAgICAgICAgIHRyYW5zcG9ydCxcclxuICAgICAgICAgICAgZHJlc3NpbmcsXHJcbiAgICAgICAgICAgIGxlYXZlQWxsb3dhbmNlLFxyXG4gICAgICAgICAgICBlbnRlcnRhaW5tZW50LFxyXG4gICAgICAgICAgICB1dGlsaXR5LFxyXG4gICAgICAgICAgICBib251c0tQSSxcclxuICAgICAgICAgICAgZGVkdWN0aW9uczogZGVkdWN0aW9uLFxyXG4gICAgICAgICAgICBwYXllZSxcclxuICAgICAgICAgICAgcGVuc2lvbkRlZHVjdGlvbjogcGVuc2lvbixcclxuICAgICAgICAgICAgbWVkaWNhbENvbnRyaWJ1dGlvbixcclxuICAgICAgICAgICAgbmV0U2FsYXJ5LFxyXG4gICAgICAgICAgICBmaW5hbEdyb3NzLFxyXG4gICAgICAgICAgICBzdGF0dXM6ICdQUk9DRVNTRUQnLFxyXG4gICAgICAgICAgICB1cGxvYWRlZEJ5OiB1c2VyLnVzZXJJZCxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBjcmVhdGU6IHtcclxuICAgICAgICAgICAgc3RhZmZSZWNvcmRJZDogc3RhZmZSZWNvcmQuaWQsXHJcbiAgICAgICAgICAgIG1vbnRoOiBtb250aE5hbWUsXHJcbiAgICAgICAgICAgIHllYXIsXHJcbiAgICAgICAgICAgIGdyb3NzUGF5LFxyXG4gICAgICAgICAgICBwcm9yYXRlZEdyb3NzUGF5LFxyXG4gICAgICAgICAgICBiYXNpY1NhbGFyeSxcclxuICAgICAgICAgICAgaG91c2luZyxcclxuICAgICAgICAgICAgdHJhbnNwb3J0LFxyXG4gICAgICAgICAgICBkcmVzc2luZyxcclxuICAgICAgICAgICAgbGVhdmVBbGxvd2FuY2UsXHJcbiAgICAgICAgICAgIGVudGVydGFpbm1lbnQsXHJcbiAgICAgICAgICAgIHV0aWxpdHksXHJcbiAgICAgICAgICAgIGJvbnVzS1BJLFxyXG4gICAgICAgICAgICBkZWR1Y3Rpb25zOiBkZWR1Y3Rpb24sXHJcbiAgICAgICAgICAgIHBheWVlLFxyXG4gICAgICAgICAgICBwZW5zaW9uRGVkdWN0aW9uOiBwZW5zaW9uLFxyXG4gICAgICAgICAgICBtZWRpY2FsQ29udHJpYnV0aW9uLFxyXG4gICAgICAgICAgICBuZXRTYWxhcnksXHJcbiAgICAgICAgICAgIGZpbmFsR3Jvc3MsXHJcbiAgICAgICAgICAgIHN0YXR1czogJ1BST0NFU1NFRCcsXHJcbiAgICAgICAgICAgIHVwbG9hZGVkQnk6IHVzZXIudXNlcklkLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAvLyBJZiBwYXlzbGlwIGFscmVhZHkgZXhpc3RzIGZvciB0aGF0IHBlcmlvZCwgc2tpcCByZWdlbmVyYXRpbmdcclxuICAgICAgICBjb25zdCBleGlzdGluZ1BheXNsaXAgPSBhd2FpdCBwcmlzbWEucGF5c2xpcC5maW5kRmlyc3Qoe1xyXG4gICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgc3RhZmZSZWNvcmRJZDogc3RhZmZSZWNvcmQuaWQsXHJcbiAgICAgICAgICAgIG1vbnRoOiBtb250aE5hbWUsXHJcbiAgICAgICAgICAgIHllYXIsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGxldCBwZGZQYXRoOiBzdHJpbmcgfCBudWxsID0gbnVsbFxyXG5cclxuICAgICAgICBpZiAoIWV4aXN0aW5nUGF5c2xpcCkge1xyXG4gICAgICAgICAgLy8gQnVpbGQgUGFyc2VkUGF5cm9sbFJvdyBmb3IgSFRNTC1iYXNlZCBnZW5lcmF0b3JcclxuICAgICAgICAgIGNvbnN0IHBhcnNlZFJvdzogUGFyc2VkUGF5cm9sbFJvdyA9IHtcclxuICAgICAgICAgICAgcm93TnVtYmVyOiBkaXNwbGF5Um93TnVtYmVyLFxyXG4gICAgICAgICAgICBzdGFmZklkOiBzdGFmZlJlY29yZC5zdGFmZklkLFxyXG4gICAgICAgICAgICBlbWFpbDogc3RhZmZSZWNvcmQuZW1haWwsXHJcbiAgICAgICAgICAgIGZ1bGxOYW1lOiBgJHtzdGFmZlJlY29yZC5maXJzdE5hbWV9ICR7c3RhZmZSZWNvcmQubGFzdE5hbWV9YCxcclxuICAgICAgICAgICAgcGVyaW9kTW9udGgsXHJcbiAgICAgICAgICAgIHBlcmlvZFllYXI6IHllYXIsXHJcblxyXG4gICAgICAgICAgICBiYXNpY1NhbGFyeSxcclxuICAgICAgICAgICAgaG91c2luZ0FsbG93YW5jZTogaG91c2luZyxcclxuICAgICAgICAgICAgdHJhbnNwb3J0QWxsb3dhbmNlOiB0cmFuc3BvcnQsXHJcbiAgICAgICAgICAgIHRyYW5zcG9ydGF0aW9uQWxsb3dhbmNlOiBkcmVzc2luZyxcclxuICAgICAgICAgICAgb3RoZXJBbGxvd2FuY2VzOiBsZWF2ZUFsbG93YW5jZSArIGVudGVydGFpbm1lbnQgKyB1dGlsaXR5LFxyXG5cclxuICAgICAgICAgICAgZ3Jvc3NQYXksXHJcbiAgICAgICAgICAgIHBheWVlLFxyXG4gICAgICAgICAgICBwZW5zaW9uLFxyXG4gICAgICAgICAgICBuZXRQYXk6IG5ldFNhbGFyeSxcclxuXHJcbiAgICAgICAgICAgIGRheXNJbk1vbnRoLFxyXG4gICAgICAgICAgICBkYXlzV29ya2VkLFxyXG4gICAgICAgICAgICByYXdSb3c6IHJvd0RhdGEsXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgeyBwZGZQYXRoOiBnZW5lcmF0ZWRQYXRoIH0gPSBhd2FpdCBnZW5lcmF0ZVBheXNsaXBQZGYoe1xyXG4gICAgICAgICAgICAgIHN0YWZmOiB7XHJcbiAgICAgICAgICAgICAgICBzdGFmZklkOiBzdGFmZlJlY29yZC5zdGFmZklkLFxyXG4gICAgICAgICAgICAgICAgZmlyc3ROYW1lOiBzdGFmZlJlY29yZC5maXJzdE5hbWUsXHJcbiAgICAgICAgICAgICAgICBsYXN0TmFtZTogc3RhZmZSZWNvcmQubGFzdE5hbWUsXHJcbiAgICAgICAgICAgICAgICBlbWFpbDogc3RhZmZSZWNvcmQuZW1haWwsXHJcbiAgICAgICAgICAgICAgICBkZXBhcnRtZW50OiBzdGFmZlJlY29yZC5kZXBhcnRtZW50IHx8IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIGRlc2lnbmF0aW9uOiBzdGFmZlJlY29yZC5kZXNpZ25hdGlvbiB8fCB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICBwYXlyb2xsOiBwYXJzZWRSb3csXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHBkZlBhdGggPSBnZW5lcmF0ZWRQYXRoXHJcbiAgICAgICAgICAgIHJlc3VsdHMucGF5c2xpcHNHZW5lcmF0ZWQrK1xyXG4gICAgICAgICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcclxuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBGYWlsZWQgdG8gZ2VuZXJhdGUgcGF5c2xpcCBQREYgLSAke2Vyci5tZXNzYWdlfWBcclxuICAgICAgICAgICAgcmVzdWx0cy5mYWlsZWQrK1xyXG4gICAgICAgICAgICByZXN1bHRzLmVycm9ycy5wdXNoKGBSb3cgJHtkaXNwbGF5Um93TnVtYmVyfTogJHttZXNzYWdlfWApXHJcbiAgICAgICAgICAgIHJlc3VsdHMuZmFpbGVkUmVjb3Jkcy5wdXNoKHsgLi4ucm93RGF0YSwgZXJyb3I6IG1lc3NhZ2UgfSlcclxuICAgICAgICAgICAgY29udGludWVcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBDcmVhdGUgUGF5c2xpcCBEQiByZWNvcmRcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBheXNsaXBGaWxlTmFtZSA9IHBhdGguYmFzZW5hbWUocGRmUGF0aClcclxuICAgICAgICAgICAgYXdhaXQgcHJpc21hLnBheXNsaXAuY3JlYXRlKHtcclxuICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBwYXlyb2xsSWQ6IHBheXJvbGwuaWQsXHJcbiAgICAgICAgICAgICAgICBzdGFmZlJlY29yZElkOiBzdGFmZlJlY29yZC5pZCxcclxuICAgICAgICAgICAgICAgIGZpbGVQYXRoOiBwZGZQYXRoLFxyXG4gICAgICAgICAgICAgICAgZmlsZU5hbWU6IHBheXNsaXBGaWxlTmFtZSxcclxuICAgICAgICAgICAgICAgIG1vbnRoOiBtb250aE5hbWUsXHJcbiAgICAgICAgICAgICAgICB5ZWFyLFxyXG4gICAgICAgICAgICAgICAgZ3Jvc3NQYXksXHJcbiAgICAgICAgICAgICAgICBuZXRQYXk6IG5ldFNhbGFyeSxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcclxuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBQYXlzbGlwIERCIHJlY29yZCBlcnJvciAtICR7ZXJyLm1lc3NhZ2V9YFxyXG4gICAgICAgICAgICByZXN1bHRzLmZhaWxlZCsrXHJcbiAgICAgICAgICAgIHJlc3VsdHMuZXJyb3JzLnB1c2goYFJvdyAke2Rpc3BsYXlSb3dOdW1iZXJ9OiAke21lc3NhZ2V9YClcclxuICAgICAgICAgICAgcmVzdWx0cy5mYWlsZWRSZWNvcmRzLnB1c2goeyAuLi5yb3dEYXRhLCBlcnJvcjogbWVzc2FnZSB9KVxyXG4gICAgICAgICAgICBjb250aW51ZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRW1haWwgbm90aWZpY2F0aW9uIChrZXB0IGZyb20gb2xkICsgbmV3KVxyXG4gICAgICAgIGlmIChzZW5kRW1haWxzKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCBzZW5kUGF5cm9sbE5vdGlmaWNhdGlvbkVtYWlsKHN0YWZmUmVjb3JkLCB7XHJcbiAgICAgICAgICAgICAgbW9udGg6IG1vbnRoTmFtZSxcclxuICAgICAgICAgICAgICB5ZWFyLFxyXG4gICAgICAgICAgICAgIG5ldFNhbGFyeSxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgcmVzdWx0cy5lbWFpbHNTZW50KytcclxuICAgICAgICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IGBFbWFpbCBzZW5kaW5nIGZhaWxlZCAtICR7ZXJyLm1lc3NhZ2V9YFxyXG4gICAgICAgICAgICByZXN1bHRzLmVycm9ycy5wdXNoKGBSb3cgJHtkaXNwbGF5Um93TnVtYmVyfTogJHttc2d9YClcclxuICAgICAgICAgICAgLy8gbm90IGZhaWxpbmcgdGhlIHJvdyBiZWNhdXNlIHBheXNsaXAgd2FzIGdlbmVyYXRlZFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVzdWx0cy5zdWNjZXNzZnVsKytcclxuICAgICAgICByZXN1bHRzLnByb2Nlc3NlZFJlY29yZHMucHVzaCh7XHJcbiAgICAgICAgICAuLi5yb3dEYXRhLFxyXG4gICAgICAgICAgc3RhZmZJZDogc3RhZmZSZWNvcmQuc3RhZmZJZCxcclxuICAgICAgICAgIHN0YWZmTmFtZTogYCR7c3RhZmZSZWNvcmQuZmlyc3ROYW1lfSAke3N0YWZmUmVjb3JkLmxhc3ROYW1lfWAsXHJcbiAgICAgICAgICBuZXRTYWxhcnksXHJcbiAgICAgICAgICBzdGF0dXM6ICdQUk9DRVNTRUQnLFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGVycj8ubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcidcclxuICAgICAgICByZXN1bHRzLmZhaWxlZCsrXHJcbiAgICAgICAgcmVzdWx0cy5lcnJvcnMucHVzaChgUm93ICR7ZGlzcGxheVJvd051bWJlcn06ICR7bWVzc2FnZX1gKVxyXG4gICAgICAgIHJlc3VsdHMuZmFpbGVkUmVjb3Jkcy5wdXNoKHsgLi4uKHJvdyBhcyBhbnkpLCBlcnJvcjogbWVzc2FnZSB9KVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gMykgQ3JlYXRlIC91cGxvYWRzL3BheXJvbGwgYW5kIGZhaWxlZCByZWNvcmRzIEV4Y2VsIChpZiBuZWVkZWQpXHJcbiAgICBjb25zdCB1cGxvYWREaXIgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ3VwbG9hZHMnLCAncGF5cm9sbCcpXHJcbiAgICBhd2FpdCBta2Rpcih1cGxvYWREaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pXHJcblxyXG4gICAgbGV0IHByb2Nlc3NlZEZpbGVQYXRoOiBzdHJpbmcgfCBudWxsID0gbnVsbFxyXG5cclxuICAgIGlmIChyZXN1bHRzLmZhaWxlZFJlY29yZHMubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zdCBmYWlsZWRXb3JrYm9vayA9IG5ldyBFeGNlbEpTLldvcmtib29rKClcclxuICAgICAgY29uc3QgZmFpbGVkV29ya3NoZWV0ID0gZmFpbGVkV29ya2Jvb2suYWRkV29ya3NoZWV0KCdGYWlsZWQgUmVjb3JkcycpXHJcblxyXG4gICAgICAvLyBDb2xsZWN0IGFsbCBrZXlzIGFjcm9zcyBmYWlsZWQgcmVjb3JkcyB0byBhdm9pZCBtaXNzaW5nIGNvbHVtbnNcclxuICAgICAgY29uc3QgaGVhZGVyc1NldCA9IG5ldyBTZXQ8c3RyaW5nPigpXHJcbiAgICAgIHJlc3VsdHMuZmFpbGVkUmVjb3Jkcy5mb3JFYWNoKChyKSA9PlxyXG4gICAgICAgIE9iamVjdC5rZXlzKHIpLmZvckVhY2goKGspID0+IGhlYWRlcnNTZXQuYWRkKGspKVxyXG4gICAgICApXHJcbiAgICAgIGhlYWRlcnNTZXQuYWRkKCdlcnJvcicpXHJcblxyXG4gICAgICBjb25zdCBoZWFkZXJzID0gQXJyYXkuZnJvbShoZWFkZXJzU2V0KVxyXG5cclxuICAgICAgZmFpbGVkV29ya3NoZWV0LmNvbHVtbnMgPSBoZWFkZXJzLm1hcCgoaCkgPT4gKHtcclxuICAgICAgICBoZWFkZXI6IGgsXHJcbiAgICAgICAga2V5OiBoLFxyXG4gICAgICAgIHdpZHRoOiAyMixcclxuICAgICAgfSkpXHJcblxyXG4gICAgICByZXN1bHRzLmZhaWxlZFJlY29yZHMuZm9yRWFjaCgocmVjb3JkKSA9PiB7XHJcbiAgICAgICAgZmFpbGVkV29ya3NoZWV0LmFkZFJvdyhyZWNvcmQpXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBjb25zdCBoZWFkZXJSb3cgPSBmYWlsZWRXb3Jrc2hlZXQuZ2V0Um93KDEpXHJcbiAgICAgIGhlYWRlclJvdy5mb250ID0geyBib2xkOiB0cnVlLCBjb2xvcjogeyBhcmdiOiAnRkZGRkZGRkYnIH0gfVxyXG4gICAgICBoZWFkZXJSb3cuZmlsbCA9IHtcclxuICAgICAgICB0eXBlOiAncGF0dGVybicsXHJcbiAgICAgICAgcGF0dGVybjogJ3NvbGlkJyxcclxuICAgICAgICBmZ0NvbG9yOiB7IGFyZ2I6ICdGRkRDMzU0NScgfSxcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgZmFpbGVkRmlsZU5hbWUgPSBgZmFpbGVkLXJlY29yZHMtJHtEYXRlLm5vdygpfS54bHN4YFxyXG4gICAgICBjb25zdCBmYWlsZWRGaWxlUGF0aCA9IHBhdGguam9pbih1cGxvYWREaXIsIGZhaWxlZEZpbGVOYW1lKVxyXG5cclxuICAgICAgY29uc3QgZmFpbGVkQnVmZmVyID0gYXdhaXQgZmFpbGVkV29ya2Jvb2sueGxzeC53cml0ZUJ1ZmZlcigpXHJcbiAgICAgIGF3YWl0IHdyaXRlRmlsZShmYWlsZWRGaWxlUGF0aCwgZmFpbGVkQnVmZmVyKVxyXG5cclxuICAgICAgcHJvY2Vzc2VkRmlsZVBhdGggPSBmYWlsZWRGaWxlUGF0aFxyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZWF0ZSB1cGxvYWQgcmVjb3JkXHJcbiAgICBjb25zdCB1cGxvYWRSZWNvcmQgPSBhd2FpdCBwcmlzbWEucGF5cm9sbFVwbG9hZC5jcmVhdGUoe1xyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgZmlsZU5hbWU6IGZpbGUubmFtZSxcclxuICAgICAgICBmaWxlUGF0aDogcGF0aC5qb2luKHVwbG9hZERpciwgZmlsZS5uYW1lKSxcclxuICAgICAgICBwcm9jZXNzZWRGaWxlUGF0aCxcclxuICAgICAgICBwcm9jZXNzZWRGaWxlTmFtZTogcHJvY2Vzc2VkRmlsZVBhdGhcclxuICAgICAgICAgID8gcGF0aC5iYXNlbmFtZShwcm9jZXNzZWRGaWxlUGF0aClcclxuICAgICAgICAgIDogbnVsbCxcclxuICAgICAgICB0b3RhbFJlY29yZHM6IGRhdGEubGVuZ3RoLFxyXG4gICAgICAgIHN1Y2Nlc3NmdWw6IHJlc3VsdHMuc3VjY2Vzc2Z1bCxcclxuICAgICAgICBmYWlsZWQ6IHJlc3VsdHMuZmFpbGVkLFxyXG4gICAgICAgIGVycm9yczogcmVzdWx0cy5lcnJvcnMsXHJcbiAgICAgICAgdXBsb2FkZWRCeTogdXNlci51c2VySWQsXHJcbiAgICAgIH0sXHJcbiAgICB9KVxyXG5cclxuICAgIC8vIFNhdmUgb3JpZ2luYWwgZmlsZSB0byB1cGxvYWRzIGZvbGRlclxyXG4gICAgYXdhaXQgd3JpdGVGaWxlKHBhdGguam9pbih1cGxvYWREaXIsIGZpbGUubmFtZSksIGJ1ZmZlcilcclxuXHJcbiAgICBjb25zdCByZXNwb25zZURhdGE6IGFueSA9IHtcclxuICAgICAgcmVzdWx0cyxcclxuICAgICAgdXBsb2FkSWQ6IHVwbG9hZFJlY29yZC5pZCxcclxuICAgICAgc3VtbWFyeToge1xyXG4gICAgICAgIHRvdGFsUHJvY2Vzc2VkOiBkYXRhLmxlbmd0aCxcclxuICAgICAgICBzdWNjZXNzZnVsOiByZXN1bHRzLnN1Y2Nlc3NmdWwsXHJcbiAgICAgICAgZmFpbGVkOiByZXN1bHRzLmZhaWxlZCxcclxuICAgICAgICBwYXlzbGlwc0dlbmVyYXRlZDogcmVzdWx0cy5wYXlzbGlwc0dlbmVyYXRlZCxcclxuICAgICAgICBlbWFpbHNTZW50OiByZXN1bHRzLmVtYWlsc1NlbnQsXHJcbiAgICAgIH0sXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHJlc3VsdHMuZmFpbGVkUmVjb3Jkcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHJlc3BvbnNlRGF0YS5mYWlsZWRSZWNvcmRzRG93bmxvYWQgPVxyXG4gICAgICAgIGAvYXBpL3BheXJvbGwvZG93bmxvYWQtZmFpbGVkLyR7dXBsb2FkUmVjb3JkLmlkfWBcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gQXBpUmVzcG9uc2Uuc3VjY2VzcyhcclxuICAgICAgcmVzcG9uc2VEYXRhLFxyXG4gICAgICAnUGF5cm9sbCBwcm9jZXNzaW5nIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHknXHJcbiAgICApXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJldHVybiBoYW5kbGVBcGlFcnJvcihlcnJvcilcclxuICB9XHJcbn1cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIEdFVCAvYXBpL3BheXJvbGwvdXBsb2FkXHJcbi8vIFBheXJvbGwgdGVtcGxhdGUgZG93bmxvYWRcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB0b2tlbiA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ2F1dGhvcml6YXRpb24nKT8ucmVwbGFjZSgnQmVhcmVyICcsICcnKVxyXG4gICAgcmVxdWlyZVJvbGUodG9rZW4sIFsnSFInLCAnU1VQRVJfQURNSU4nXSlcclxuXHJcbiAgICBjb25zdCB3b3JrYm9vayA9IG5ldyBFeGNlbEpTLldvcmtib29rKClcclxuICAgIGNvbnN0IHdvcmtzaGVldCA9IHdvcmtib29rLmFkZFdvcmtzaGVldCgnUGF5cm9sbCBUZW1wbGF0ZScpXHJcblxyXG4gICAgLy8gUm93IDE6IGhlYWRlcnMgbWF0Y2hpbmcgeW91ciByZWFsIHBheXJvbGwgc2hlZXRcclxuICAgIHdvcmtzaGVldC5hZGRSb3coW1xyXG4gICAgICAnTmFtZScsXHJcbiAgICAgICdSZXN1bXB0aW9uIERhdGUnLFxyXG4gICAgICAnTm8gb2YgV29ya2luZyBEYXlzIGluIHRoZSBNb250aCcsXHJcbiAgICAgICcgTm8gb2YgZGF5cyBXb3JrZWQgJyxcclxuICAgICAgJ0dyb3NzIFBheScsXHJcbiAgICAgICdQcm9yYXRlZCBHcm9zcyBQYXknLFxyXG4gICAgICAnQmFzaWMnLFxyXG4gICAgICAnSG91c2luZycsXHJcbiAgICAgICdUcmFuc3BvcnQnLFxyXG4gICAgICAnRHJlc3NpbmcnLFxyXG4gICAgICAnTGVhdmUgQWxsb3dhbmNlJyxcclxuICAgICAgJ0VudGVydGFpbm1lbnQnLFxyXG4gICAgICAnVXRpbGl0eScsXHJcbiAgICAgICflh7rli6TolqrotYQgU2FsYXJ5IE9mIEF0dGVuZGFuY2UgJyxcclxuICAgICAgXCJQUk9SQVRFRCBHUk9TUyBQQVkgV0lUSCBFWFRSQSBBTEwnV0NFXCIsXHJcbiAgICAgICdUQVhBQkxFIElOQ09NRScsXHJcbiAgICAgICdQYXllZScsXHJcbiAgICAgICdQZW5zaW9uJyxcclxuICAgICAgJ0RlZHVjdGlvbiAnLFxyXG4gICAgICAnQm9udXMgS1BJICcsXHJcbiAgICAgICdOZXQgU2FsYXJ5JyxcclxuICAgICAgJ0ZJTkFMIEdST1NTJyxcclxuICAgICAgJ01lZGljYWwgQ29udHJpYnV0aW9uJyxcclxuICAgICAgJ0VtcGxveWVyIFBlbnNpb24nLFxyXG4gICAgICAnTlNJVEYnLFxyXG4gICAgICAnUHJvcmF0ZWQgU3ViIFRvdGFsXFxuSW52b2ljZScsXHJcbiAgICAgICdNZ3QgRmVlJyxcclxuICAgICAgJ1ZhdCBvbiBNYW5hZ2VtZW50IEZlZSBANy41JScsXHJcbiAgICAgICdUb3RhbCBJbnZvaWNlXFxuVmFsdWUnLFxyXG4gICAgICAnRU1BSUwnLFxyXG4gICAgXSlcclxuXHJcbiAgICAvLyBSb3cgMjogcGVyY2VudGFnZSByb3cgZXhhY3RseSBsaWtlIHlvdXIgZmlsZVxyXG4gICAgd29ya3NoZWV0LmFkZFJvdyhbXHJcbiAgICAgICcnLFxyXG4gICAgICAnJyxcclxuICAgICAgJycsXHJcbiAgICAgICcnLFxyXG4gICAgICAnJyxcclxuICAgICAgJycsXHJcbiAgICAgICc1MCUnLFxyXG4gICAgICAnMjUlJyxcclxuICAgICAgJzI1JScsXHJcbiAgICAgICcxMCUnLFxyXG4gICAgICAnOC4zMyUnLFxyXG4gICAgICAnNSUnLFxyXG4gICAgICAnNSUnLFxyXG4gICAgICAnJyxcclxuICAgICAgJycsXHJcbiAgICAgICcnLFxyXG4gICAgICAnJyxcclxuICAgICAgJycsXHJcbiAgICAgICcnLFxyXG4gICAgICAnJyxcclxuICAgICAgJycsXHJcbiAgICAgICcnLFxyXG4gICAgICAnMSUnLFxyXG4gICAgICAnMTAlJyxcclxuICAgICAgJycsXHJcbiAgICAgICcnLFxyXG4gICAgICAnJyxcclxuICAgICAgJycsXHJcbiAgICAgICcnLFxyXG4gICAgICAnJyxcclxuICAgIF0pXHJcblxyXG4gICAgd29ya3NoZWV0LmFkZFJvdyhbJ0lNUE9SVEFOVDonXSlcclxuICAgIHdvcmtzaGVldC5hZGRSb3coWyctIEFsbCBhbW91bnRzIHNob3VsZCBiZSBpbiBOYWlyYSddKVxyXG4gICAgd29ya3NoZWV0LmFkZFJvdyhbJy0gU3RhZmYgbXVzdCBiZSBwcmUtcmVnaXN0ZXJlZCBpbiB0aGUgc3lzdGVtJ10pXHJcbiAgICB3b3Jrc2hlZXQuYWRkUm93KFtcclxuICAgICAgJy0gTmFtZSBvciBFTUFJTCBtdXN0IG1hdGNoIGV4YWN0bHkgd2l0aCByZWdpc3RlcmVkIHN0YWZmIHJlY29yZCcsXHJcbiAgICBdKVxyXG4gICAgd29ya3NoZWV0LmFkZFJvdyhbXHJcbiAgICAgICctIElmIGEgcmVxdWlyZWQgY29sdW1uIGlzIG1pc3NpbmcgaW4gYSByb3csIHRoYXQgcm93IHdpbGwgZmFpbCBhbmQgYmUgaW5jbHVkZWQgaW4gZmFpbGVkLXJlY29yZHMgZG93bmxvYWQuJyxcclxuICAgIF0pXHJcblxyXG4gICAgY29uc3QgYnVmZmVyID0gYXdhaXQgd29ya2Jvb2sueGxzeC53cml0ZUJ1ZmZlcigpXHJcblxyXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShidWZmZXIsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LVR5cGUnOlxyXG4gICAgICAgICAgJ2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnNoZWV0JyxcclxuICAgICAgICAnQ29udGVudC1EaXNwb3NpdGlvbic6ICdhdHRhY2htZW50OyBmaWxlbmFtZT1cInBheXJvbGwtdGVtcGxhdGUueGxzeFwiJyxcclxuICAgICAgICAnQ2FjaGUtQ29udHJvbCc6ICduby1jYWNoZScsXHJcbiAgICAgIH0sXHJcbiAgICB9KVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4gaGFuZGxlQXBpRXJyb3IoZXJyb3IpXHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJwcmlzbWEiLCJyZXF1aXJlUm9sZSIsIkFwaVJlc3BvbnNlIiwiaGFuZGxlQXBpRXJyb3IiLCJzZW5kUGF5cm9sbE5vdGlmaWNhdGlvbkVtYWlsIiwiRXhjZWxKUyIsIndyaXRlRmlsZSIsIm1rZGlyIiwicGF0aCIsImdlbmVyYXRlUGF5c2xpcFBkZiIsIm5vcm1hbGl6ZUhlYWRlciIsImgiLCJ0b1N0cmluZyIsInJlcGxhY2UiLCJ0cmltIiwidG9Mb3dlckNhc2UiLCJtb250aE5hbWVUb051bWJlciIsIm1vbnRoIiwibm9ybWFsaXplZCIsIm1vbnRocyIsImlkeCIsImluZGV4T2YiLCJhc051bWJlciIsIk51bWJlciIsImlzRmluaXRlIiwibnVtIiwidiIsInVuZGVmaW5lZCIsIkNBTk9OSUNBTF9IRUFERVJTIiwiY2Fub25pY2FsTWFwIiwiUkVRVUlSRURfQ09MUyIsImdldENlbGwiLCJyb3ciLCJjYW5vbmljYWwiLCJhY3R1YWxLZXkiLCJsb29rc0xpa2VQZXJjZW50YWdlUm93Iiwicm93T2JqIiwiY29sIiwiaW5jbHVkZXMiLCJzcGxpdENzdkxpbmUiLCJsaW5lIiwicmVzdWx0IiwiY3VyIiwiaW5RdW90ZXMiLCJpIiwibGVuZ3RoIiwiY2giLCJwdXNoIiwiUE9TVCIsInJlcXVlc3QiLCJ0b2tlbiIsImhlYWRlcnMiLCJnZXQiLCJ1c2VyIiwiZm9ybURhdGEiLCJmaWxlIiwic2VuZEVtYWlscyIsImVycm9yIiwiYnl0ZXMiLCJhcnJheUJ1ZmZlciIsImJ1ZmZlciIsIkJ1ZmZlciIsImZyb20iLCJmaWxlRXh0ZW5zaW9uIiwibmFtZSIsInNwbGl0IiwicG9wIiwiaXNFeGNlbCIsImlzQ3N2IiwidHlwZSIsImRhdGEiLCJ3b3JrYm9vayIsIldvcmtib29rIiwiY3N2VGV4dCIsImxpbmVzIiwiZmlsdGVyIiwibCIsIkVycm9yIiwicmF3SGVhZGVycyIsIm1hcCIsInZhbHVlcyIsInJvd0RhdGEiLCJmb3JFYWNoIiwic2xpY2UiLCJ4bHN4IiwibG9hZCIsIndvcmtzaGVldCIsIndvcmtzaGVldHMiLCJoZWFkZXJSb3ciLCJnZXRSb3ciLCJlYWNoQ2VsbCIsImNlbGwiLCJTdHJpbmciLCJ2YWx1ZSIsInJvdzIiLCJyb3cyT2JqIiwiaGVhZGVyIiwic2tpcFJvdzIiLCJlYWNoUm93IiwiaW5jbHVkZUVtcHR5Iiwicm93TnVtYmVyIiwiY29sTnVtYmVyIiwiaGFzQW55IiwiT2JqZWN0Iiwic29tZSIsImVyciIsIm1lc3NhZ2UiLCJyZXN1bHRzIiwic3VjY2Vzc2Z1bCIsImZhaWxlZCIsInBheXNsaXBzR2VuZXJhdGVkIiwiZW1haWxzU2VudCIsInByb2Nlc3NlZFJlY29yZHMiLCJmYWlsZWRSZWNvcmRzIiwiZXJyb3JzIiwibm93IiwiRGF0ZSIsImRlZmF1bHRNb250aE5hbWUiLCJ0b0xvY2FsZVN0cmluZyIsImRlZmF1bHRZZWFyIiwiZ2V0RnVsbFllYXIiLCJpbmRleCIsImVudHJpZXMiLCJkaXNwbGF5Um93TnVtYmVyIiwicmF3TmFtZSIsInJhd0VtYWlsIiwiZW1haWwiLCJtaXNzaW5nQ29scyIsImMiLCJqb2luIiwic3RhZmZSZWNvcmQiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJwYXJ0cyIsIkJvb2xlYW4iLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImZpbmRGaXJzdCIsImlzQWN0aXZlIiwiT1IiLCJBTkQiLCJjb250YWlucyIsIm1vZGUiLCJtb250aE5hbWUiLCJ5ZWFyIiwicGFyc2VJbnQiLCJwZXJpb2RNb250aCIsImdyb3NzUGF5IiwicHJvcmF0ZWRHcm9zc1BheSIsImJhc2ljU2FsYXJ5IiwiaG91c2luZyIsInRyYW5zcG9ydCIsImRyZXNzaW5nIiwibGVhdmVBbGxvd2FuY2UiLCJlbnRlcnRhaW5tZW50IiwidXRpbGl0eSIsInBheWVlIiwicGVuc2lvbiIsImRlZHVjdGlvbiIsImJvbnVzS1BJIiwibmV0U2FsYXJ5IiwiZmluYWxHcm9zcyIsIm1lZGljYWxDb250cmlidXRpb24iLCJkYXlzSW5Nb250aCIsImRheXNXb3JrZWQiLCJwYXlyb2xsIiwidXBzZXJ0Iiwic3RhZmZSZWNvcmRJZF9tb250aF95ZWFyIiwic3RhZmZSZWNvcmRJZCIsImlkIiwidXBkYXRlIiwiZGVkdWN0aW9ucyIsInBlbnNpb25EZWR1Y3Rpb24iLCJzdGF0dXMiLCJ1cGxvYWRlZEJ5IiwidXNlcklkIiwiY3JlYXRlIiwiZXhpc3RpbmdQYXlzbGlwIiwicGF5c2xpcCIsInBkZlBhdGgiLCJwYXJzZWRSb3ciLCJzdGFmZklkIiwiZnVsbE5hbWUiLCJwZXJpb2RZZWFyIiwiaG91c2luZ0FsbG93YW5jZSIsInRyYW5zcG9ydEFsbG93YW5jZSIsInRyYW5zcG9ydGF0aW9uQWxsb3dhbmNlIiwib3RoZXJBbGxvd2FuY2VzIiwibmV0UGF5IiwicmF3Um93IiwiZ2VuZXJhdGVkUGF0aCIsInN0YWZmIiwiZGVwYXJ0bWVudCIsImRlc2lnbmF0aW9uIiwicGF5c2xpcEZpbGVOYW1lIiwiYmFzZW5hbWUiLCJwYXlyb2xsSWQiLCJmaWxlUGF0aCIsImZpbGVOYW1lIiwibXNnIiwic3RhZmZOYW1lIiwidXBsb2FkRGlyIiwicHJvY2VzcyIsImN3ZCIsInJlY3Vyc2l2ZSIsInByb2Nlc3NlZEZpbGVQYXRoIiwiZmFpbGVkV29ya2Jvb2siLCJmYWlsZWRXb3Jrc2hlZXQiLCJhZGRXb3Jrc2hlZXQiLCJoZWFkZXJzU2V0IiwiU2V0IiwiciIsImtleXMiLCJrIiwiYWRkIiwiQXJyYXkiLCJjb2x1bW5zIiwia2V5Iiwid2lkdGgiLCJyZWNvcmQiLCJhZGRSb3ciLCJmb250IiwiYm9sZCIsImNvbG9yIiwiYXJnYiIsImZpbGwiLCJwYXR0ZXJuIiwiZmdDb2xvciIsImZhaWxlZEZpbGVOYW1lIiwiZmFpbGVkRmlsZVBhdGgiLCJmYWlsZWRCdWZmZXIiLCJ3cml0ZUJ1ZmZlciIsInVwbG9hZFJlY29yZCIsInBheXJvbGxVcGxvYWQiLCJwcm9jZXNzZWRGaWxlTmFtZSIsInRvdGFsUmVjb3JkcyIsInJlc3BvbnNlRGF0YSIsInVwbG9hZElkIiwic3VtbWFyeSIsInRvdGFsUHJvY2Vzc2VkIiwiZmFpbGVkUmVjb3Jkc0Rvd25sb2FkIiwic3VjY2VzcyIsIkdFVCIsIlJlc3BvbnNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/payroll/upload/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/lib/auth.ts":
/*!*****************************!*\
  !*** ./src/app/lib/auth.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   comparePassword: () => (/* binding */ comparePassword),\n/* harmony export */   hashPassword: () => (/* binding */ hashPassword),\n/* harmony export */   requireAuth: () => (/* binding */ requireAuth),\n/* harmony export */   requireCompany: () => (/* binding */ requireCompany),\n/* harmony export */   requireRole: () => (/* binding */ requireRole),\n/* harmony export */   signToken: () => (/* binding */ signToken),\n/* harmony export */   verifyToken: () => (/* binding */ verifyToken)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_1__);\n// src/app/lib/auth.ts\n\n\nfunction getJwtSecret() {\n    const secret = process.env.JWT_SECRET;\n    if (!secret) throw new Error(\"JWT_SECRET environment variable is not set\");\n    return secret;\n}\nasync function hashPassword(password) {\n    const salt = await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().genSalt(10);\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().hash(password, salt);\n}\nasync function comparePassword(password, hashed) {\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().compare(password, hashed);\n}\nfunction signToken(payload, expiresIn = \"7d\") {\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().sign(payload, getJwtSecret(), {\n        expiresIn\n    });\n}\nconst verifyToken = (token)=>{\n    try {\n        return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, getJwtSecret());\n    } catch  {\n        return null;\n    }\n};\nconst requireAuth = (token)=>{\n    if (!token) throw new Error(\"Authentication required\");\n    const decoded = verifyToken(token);\n    if (!decoded) throw new Error(\"Invalid or expired token\");\n    return decoded;\n};\nconst requireRole = (token, allowedRoles)=>{\n    const user = requireAuth(token);\n    if (!allowedRoles.includes(user.role)) {\n        throw new Error(\"Insufficient permissions\");\n    }\n    return user;\n};\nconst requireCompany = (token)=>{\n    const user = requireAuth(token);\n    if (!user.companyId) throw new Error(\"Company context missing\");\n    return user.companyId;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2xpYi9hdXRoLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUEsc0JBQXNCO0FBQ1E7QUFDRDtBQVM3QixTQUFTRTtJQUNQLE1BQU1DLFNBQVNDLFFBQVFDLEdBQUcsQ0FBQ0MsVUFBVTtJQUNyQyxJQUFJLENBQUNILFFBQVEsTUFBTSxJQUFJSSxNQUFNO0lBQzdCLE9BQU9KO0FBQ1Q7QUFFTyxlQUFlSyxhQUFhQyxRQUFnQjtJQUNqRCxNQUFNQyxPQUFPLE1BQU1ULHVEQUFjLENBQUM7SUFDbEMsT0FBT0Esb0RBQVcsQ0FBQ1EsVUFBVUM7QUFDL0I7QUFFTyxlQUFlRyxnQkFBZ0JKLFFBQWdCLEVBQUVLLE1BQWM7SUFDcEUsT0FBT2IsdURBQWMsQ0FBQ1EsVUFBVUs7QUFDbEM7QUFFTyxTQUFTRSxVQUFVQyxPQUFtQixFQUFFQyxZQUFvQixJQUFJO0lBQ3JFLE9BQU9sQix3REFBUSxDQUFDaUIsU0FBU2YsZ0JBQWdCO1FBQUVnQjtJQUFVO0FBQ3ZEO0FBRU8sTUFBTUUsY0FBYyxDQUFDQztJQUMxQixJQUFJO1FBQ0YsT0FBT3JCLDBEQUFVLENBQUNxQixPQUFPbkI7SUFDM0IsRUFBRSxPQUFNO1FBQ04sT0FBTztJQUNUO0FBQ0YsRUFBQztBQUVNLE1BQU1xQixjQUFjLENBQUNGO0lBQzFCLElBQUksQ0FBQ0EsT0FBTyxNQUFNLElBQUlkLE1BQU07SUFFNUIsTUFBTWlCLFVBQVVKLFlBQVlDO0lBQzVCLElBQUksQ0FBQ0csU0FBUyxNQUFNLElBQUlqQixNQUFNO0lBRTlCLE9BQU9pQjtBQUNULEVBQUM7QUFFTSxNQUFNQyxjQUFjLENBQUNKLE9BQXNCSztJQUNoRCxNQUFNQyxPQUFPSixZQUFZRjtJQUV6QixJQUFJLENBQUNLLGFBQWFFLFFBQVEsQ0FBQ0QsS0FBS0UsSUFBSSxHQUFHO1FBQ3JDLE1BQU0sSUFBSXRCLE1BQU07SUFDbEI7SUFFQSxPQUFPb0I7QUFDVCxFQUFDO0FBRU0sTUFBTUcsaUJBQWlCLENBQUNUO0lBQzdCLE1BQU1NLE9BQU9KLFlBQVlGO0lBQ3pCLElBQUksQ0FBQ00sS0FBS0ksU0FBUyxFQUFFLE1BQU0sSUFBSXhCLE1BQU07SUFDckMsT0FBT29CLEtBQUtJLFNBQVM7QUFDdkIsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hybXMtYmFja2VuZC8uL3NyYy9hcHAvbGliL2F1dGgudHM/MDA4MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvYXBwL2xpYi9hdXRoLnRzXHJcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJ1xyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xyXG5cclxudHlwZSBKd3RQYXlsb2FkID0ge1xyXG4gIHVzZXJJZDogc3RyaW5nXHJcbiAgZW1haWw6IHN0cmluZ1xyXG4gIHJvbGU6IHN0cmluZ1xyXG4gIGNvbXBhbnlJZD86IHN0cmluZyB8IG51bGxcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0Snd0U2VjcmV0KCkge1xyXG4gIGNvbnN0IHNlY3JldCA9IHByb2Nlc3MuZW52LkpXVF9TRUNSRVRcclxuICBpZiAoIXNlY3JldCkgdGhyb3cgbmV3IEVycm9yKCdKV1RfU0VDUkVUIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG5vdCBzZXQnKVxyXG4gIHJldHVybiBzZWNyZXRcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhc2hQYXNzd29yZChwYXNzd29yZDogc3RyaW5nKSB7XHJcbiAgY29uc3Qgc2FsdCA9IGF3YWl0IGJjcnlwdC5nZW5TYWx0KDEwKVxyXG4gIHJldHVybiBiY3J5cHQuaGFzaChwYXNzd29yZCwgc2FsdClcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbXBhcmVQYXNzd29yZChwYXNzd29yZDogc3RyaW5nLCBoYXNoZWQ6IHN0cmluZykge1xyXG4gIHJldHVybiBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgaGFzaGVkKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2lnblRva2VuKHBheWxvYWQ6IEp3dFBheWxvYWQsIGV4cGlyZXNJbjogc3RyaW5nID0gJzdkJykge1xyXG4gIHJldHVybiBqd3Quc2lnbihwYXlsb2FkLCBnZXRKd3RTZWNyZXQoKSwgeyBleHBpcmVzSW4gfSlcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHZlcmlmeVRva2VuID0gKHRva2VuOiBzdHJpbmcpOiBKd3RQYXlsb2FkIHwgbnVsbCA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiBqd3QudmVyaWZ5KHRva2VuLCBnZXRKd3RTZWNyZXQoKSkgYXMgSnd0UGF5bG9hZFxyXG4gIH0gY2F0Y2gge1xyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCByZXF1aXJlQXV0aCA9ICh0b2tlbjogc3RyaW5nIHwgbnVsbCkgPT4ge1xyXG4gIGlmICghdG9rZW4pIHRocm93IG5ldyBFcnJvcignQXV0aGVudGljYXRpb24gcmVxdWlyZWQnKVxyXG5cclxuICBjb25zdCBkZWNvZGVkID0gdmVyaWZ5VG9rZW4odG9rZW4pXHJcbiAgaWYgKCFkZWNvZGVkKSB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgb3IgZXhwaXJlZCB0b2tlbicpXHJcblxyXG4gIHJldHVybiBkZWNvZGVkXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCByZXF1aXJlUm9sZSA9ICh0b2tlbjogc3RyaW5nIHwgbnVsbCwgYWxsb3dlZFJvbGVzOiBzdHJpbmdbXSkgPT4ge1xyXG4gIGNvbnN0IHVzZXIgPSByZXF1aXJlQXV0aCh0b2tlbilcclxuXHJcbiAgaWYgKCFhbGxvd2VkUm9sZXMuaW5jbHVkZXModXNlci5yb2xlKSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnN1ZmZpY2llbnQgcGVybWlzc2lvbnMnKVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHVzZXJcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHJlcXVpcmVDb21wYW55ID0gKHRva2VuOiBzdHJpbmcgfCBudWxsKSA9PiB7XHJcbiAgY29uc3QgdXNlciA9IHJlcXVpcmVBdXRoKHRva2VuKVxyXG4gIGlmICghdXNlci5jb21wYW55SWQpIHRocm93IG5ldyBFcnJvcignQ29tcGFueSBjb250ZXh0IG1pc3NpbmcnKVxyXG4gIHJldHVybiB1c2VyLmNvbXBhbnlJZFxyXG59XHJcbiJdLCJuYW1lcyI6WyJqd3QiLCJiY3J5cHQiLCJnZXRKd3RTZWNyZXQiLCJzZWNyZXQiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsIkVycm9yIiwiaGFzaFBhc3N3b3JkIiwicGFzc3dvcmQiLCJzYWx0IiwiZ2VuU2FsdCIsImhhc2giLCJjb21wYXJlUGFzc3dvcmQiLCJoYXNoZWQiLCJjb21wYXJlIiwic2lnblRva2VuIiwicGF5bG9hZCIsImV4cGlyZXNJbiIsInNpZ24iLCJ2ZXJpZnlUb2tlbiIsInRva2VuIiwidmVyaWZ5IiwicmVxdWlyZUF1dGgiLCJkZWNvZGVkIiwicmVxdWlyZVJvbGUiLCJhbGxvd2VkUm9sZXMiLCJ1c2VyIiwiaW5jbHVkZXMiLCJyb2xlIiwicmVxdWlyZUNvbXBhbnkiLCJjb21wYW55SWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/lib/db.ts":
/*!***************************!*\
  !*** ./src/app/lib/db.ts ***!
  \***************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _prisma_adapter_pg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @prisma/adapter-pg */ \"(rsc)/./node_modules/@prisma/adapter-pg/dist/index.mjs\");\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pg */ \"pg\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([pg__WEBPACK_IMPORTED_MODULE_1__, _prisma_adapter_pg__WEBPACK_IMPORTED_MODULE_2__]);\n([pg__WEBPACK_IMPORTED_MODULE_1__, _prisma_adapter_pg__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// src/app/lib/db.ts (Prisma 7 + Aiven SSL safe)\n\n\n\nconst globalForPrisma = globalThis;\nconst pool = globalForPrisma.pool ?? new pg__WEBPACK_IMPORTED_MODULE_1__.Pool({\n    connectionString: process.env.DATABASE_URL,\n    ssl: {\n        rejectUnauthorized: false\n    }\n});\nconst adapter = new _prisma_adapter_pg__WEBPACK_IMPORTED_MODULE_2__.PrismaPg(pool);\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    adapter,\n    log: [\n        \"query\",\n        \"error\",\n        \"warn\"\n    ]\n});\nif (true) {\n    globalForPrisma.prisma = prisma;\n    globalForPrisma.pool = pool;\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2xpYi9kYi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBLGdEQUFnRDtBQUNIO0FBQ0E7QUFDcEI7QUFFekIsTUFBTUcsa0JBQWtCQztBQUt4QixNQUFNQyxPQUNKRixnQkFBZ0JFLElBQUksSUFDcEIsSUFBSUgsb0NBQUlBLENBQUM7SUFDUEksa0JBQWtCQyxRQUFRQyxHQUFHLENBQUNDLFlBQVk7SUFDMUNDLEtBQUs7UUFDSEMsb0JBQW9CO0lBQ3RCO0FBQ0Y7QUFFRixNQUFNQyxVQUFVLElBQUlYLHdEQUFRQSxDQUFDSTtBQUV0QixNQUFNUSxTQUNYVixnQkFBZ0JVLE1BQU0sSUFDdEIsSUFBSWIsd0RBQVlBLENBQUM7SUFDZlk7SUFDQUUsS0FBSztRQUFDO1FBQVM7UUFBUztLQUFPO0FBQ2pDLEdBQUU7QUFFSixJQUFJUCxJQUF5QixFQUFjO0lBQ3pDSixnQkFBZ0JVLE1BQU0sR0FBR0E7SUFDekJWLGdCQUFnQkUsSUFBSSxHQUFHQTtBQUN6QiIsInNvdXJjZXMiOlsid2VicGFjazovL2hybXMtYmFja2VuZC8uL3NyYy9hcHAvbGliL2RiLnRzPzg3NWUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2FwcC9saWIvZGIudHMgKFByaXNtYSA3ICsgQWl2ZW4gU1NMIHNhZmUpXHJcbmltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50J1xyXG5pbXBvcnQgeyBQcmlzbWFQZyB9IGZyb20gJ0BwcmlzbWEvYWRhcHRlci1wZydcclxuaW1wb3J0IHsgUG9vbCB9IGZyb20gJ3BnJ1xyXG5cclxuY29uc3QgZ2xvYmFsRm9yUHJpc21hID0gZ2xvYmFsVGhpcyBhcyB1bmtub3duIGFzIHtcclxuICBwcmlzbWE6IFByaXNtYUNsaWVudCB8IHVuZGVmaW5lZFxyXG4gIHBvb2w6IFBvb2wgfCB1bmRlZmluZWRcclxufVxyXG5cclxuY29uc3QgcG9vbCA9XHJcbiAgZ2xvYmFsRm9yUHJpc21hLnBvb2wgPz9cclxuICBuZXcgUG9vbCh7XHJcbiAgICBjb25uZWN0aW9uU3RyaW5nOiBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwsXHJcbiAgICBzc2w6IHtcclxuICAgICAgcmVqZWN0VW5hdXRob3JpemVkOiBmYWxzZSxcclxuICAgIH0sXHJcbiAgfSlcclxuXHJcbmNvbnN0IGFkYXB0ZXIgPSBuZXcgUHJpc21hUGcocG9vbClcclxuXHJcbmV4cG9ydCBjb25zdCBwcmlzbWEgPVxyXG4gIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPz9cclxuICBuZXcgUHJpc21hQ2xpZW50KHtcclxuICAgIGFkYXB0ZXIsXHJcbiAgICBsb2c6IFsncXVlcnknLCAnZXJyb3InLCAnd2FybiddLFxyXG4gIH0pXHJcblxyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPSBwcmlzbWFcclxuICBnbG9iYWxGb3JQcmlzbWEucG9vbCA9IHBvb2xcclxufVxyXG4iXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwiUHJpc21hUGciLCJQb29sIiwiZ2xvYmFsRm9yUHJpc21hIiwiZ2xvYmFsVGhpcyIsInBvb2wiLCJjb25uZWN0aW9uU3RyaW5nIiwicHJvY2VzcyIsImVudiIsIkRBVEFCQVNFX1VSTCIsInNzbCIsInJlamVjdFVuYXV0aG9yaXplZCIsImFkYXB0ZXIiLCJwcmlzbWEiLCJsb2ciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/lib/email.ts":
/*!******************************!*\
  !*** ./src/app/lib/email.ts ***!
  \******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendPayrollNotificationEmail: () => (/* binding */ sendPayrollNotificationEmail)\n/* harmony export */ });\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"(rsc)/./node_modules/nodemailer/lib/nodemailer.js\");\n/* harmony import */ var _app_lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/app/lib/db */ \"(rsc)/./src/app/lib/db.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_app_lib_db__WEBPACK_IMPORTED_MODULE_1__]);\n_app_lib_db__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nconst transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0__.createTransport({\n    host: process.env.SMTP_HOST || \"smtp.gmail.com\",\n    port: parseInt(process.env.SMTP_PORT || \"587\"),\n    secure: false,\n    auth: {\n        user: process.env.SMTP_USER,\n        pass: process.env.SMTP_PASS\n    }\n});\nasync function sendPayrollNotificationEmail(staffRecord, payroll) {\n    // Fetch company details\n    const company = await _app_lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.company.findUnique({\n        where: {\n            id: staffRecord.companyId\n        }\n    });\n    const loginLink = `${process.env.NEXTAUTH_URL}/profile`;\n    const mailOptions = {\n        from: company?.email || process.env.SMTP_FROM || \"no-reply@hrms.com\",\n        to: staffRecord.email,\n        subject: `Your Payslip for ${payroll.month} ${payroll.year}`,\n        html: `\r\n      <html>\r\n      <body style=\"font-family: Arial, sans-serif;\">\r\n        <div style=\"max-width: 600px; margin: auto;\">\r\n          <div style=\"background-color: #2c5530; color: white; padding: 20px;\">\r\n            <h1 style=\"margin:0;\">${company?.companyName || \"Your Company\"}</h1>\r\n            <h3 style=\"margin:0;\">Payslip Notification</h3>\r\n          </div>\r\n\r\n          <div style=\"padding: 20px; background: #f9f9f9;\">\r\n            <p>Hello ${staffRecord.firstName} ${staffRecord.lastName},</p>\r\n            <p>Your payslip for <strong>${payroll.month} ${payroll.year}</strong> is ready.</p>\r\n\r\n            <p><strong>Net Salary:</strong> ₦${Number(payroll.netSalary || payroll.netPay).toLocaleString(\"en-NG\", {\n            minimumFractionDigits: 2\n        })}</p>\r\n\r\n            <p>Department: ${staffRecord.department}</p>\r\n\r\n            <p style=\"text-align:center; margin-top:20px;\">\r\n              <a href=\"${loginLink}\"\r\n                 style=\"background:#2c5530;color:white;padding:10px 20px;\r\n                 border-radius:6px;text-decoration:none;\">\r\n                View Payslip\r\n              </a>\r\n            </p>\r\n\r\n            <p>Best regards,<br>${company?.companyName} HR</p>\r\n          </div>\r\n        </div>\r\n      </body>\r\n      </html>\r\n    `\n    };\n    await transporter.sendMail(mailOptions);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2xpYi9lbWFpbC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBbUM7QUFDRTtBQUVyQyxNQUFNRSxjQUFjRix1REFBMEIsQ0FBQztJQUM3Q0ksTUFBTUMsUUFBUUMsR0FBRyxDQUFDQyxTQUFTLElBQUk7SUFDL0JDLE1BQU1DLFNBQVNKLFFBQVFDLEdBQUcsQ0FBQ0ksU0FBUyxJQUFJO0lBQ3hDQyxRQUFRO0lBQ1JDLE1BQU07UUFDSkMsTUFBTVIsUUFBUUMsR0FBRyxDQUFDUSxTQUFTO1FBQzNCQyxNQUFNVixRQUFRQyxHQUFHLENBQUNVLFNBQVM7SUFDN0I7QUFDRjtBQUVPLGVBQWVDLDZCQUE2QkMsV0FBZ0IsRUFBRUMsT0FBWTtJQUMvRSx3QkFBd0I7SUFDeEIsTUFBTUMsVUFBVSxNQUFNbkIsK0NBQU1BLENBQUNtQixPQUFPLENBQUNDLFVBQVUsQ0FBQztRQUM5Q0MsT0FBTztZQUFFQyxJQUFJTCxZQUFZTSxTQUFTO1FBQUM7SUFDckM7SUFFQSxNQUFNQyxZQUFZLENBQUMsRUFBRXBCLFFBQVFDLEdBQUcsQ0FBQ29CLFlBQVksQ0FBQyxRQUFRLENBQUM7SUFFdkQsTUFBTUMsY0FBYztRQUNsQkMsTUFBTVIsU0FBU1MsU0FBU3hCLFFBQVFDLEdBQUcsQ0FBQ3dCLFNBQVMsSUFBSTtRQUNqREMsSUFBSWIsWUFBWVcsS0FBSztRQUNyQkcsU0FBUyxDQUFDLGlCQUFpQixFQUFFYixRQUFRYyxLQUFLLENBQUMsQ0FBQyxFQUFFZCxRQUFRZSxJQUFJLENBQUMsQ0FBQztRQUM1REMsTUFBTSxDQUFDOzs7OztrQ0FLdUIsRUFBRWYsU0FBU2dCLGVBQWUsZUFBZTs7Ozs7cUJBS3RELEVBQUVsQixZQUFZbUIsU0FBUyxDQUFDLENBQUMsRUFBRW5CLFlBQVlvQixRQUFRLENBQUM7d0NBQzdCLEVBQUVuQixRQUFRYyxLQUFLLENBQUMsQ0FBQyxFQUFFZCxRQUFRZSxJQUFJLENBQUM7OzZDQUUzQixFQUFFSyxPQUFPcEIsUUFBUXFCLFNBQVMsSUFBSXJCLFFBQVFzQixNQUFNLEVBQzFFQyxjQUFjLENBQUMsU0FBUztZQUFFQyx1QkFBdUI7UUFBRSxHQUFHOzsyQkFFMUMsRUFBRXpCLFlBQVkwQixVQUFVLENBQUM7Ozt1QkFHN0IsRUFBRW5CLFVBQVU7Ozs7Ozs7Z0NBT0gsRUFBRUwsU0FBU2dCLFlBQVk7Ozs7O0lBS25ELENBQUM7SUFDSDtJQUVBLE1BQU1sQyxZQUFZMkMsUUFBUSxDQUFDbEI7QUFDN0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ocm1zLWJhY2tlbmQvLi9zcmMvYXBwL2xpYi9lbWFpbC50cz8zMGEzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBub2RlbWFpbGVyIGZyb20gJ25vZGVtYWlsZXInXHJcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gJ0AvYXBwL2xpYi9kYidcclxuXHJcbmNvbnN0IHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoe1xyXG4gIGhvc3Q6IHByb2Nlc3MuZW52LlNNVFBfSE9TVCB8fCAnc210cC5nbWFpbC5jb20nLFxyXG4gIHBvcnQ6IHBhcnNlSW50KHByb2Nlc3MuZW52LlNNVFBfUE9SVCB8fCAnNTg3JyksXHJcbiAgc2VjdXJlOiBmYWxzZSxcclxuICBhdXRoOiB7XHJcbiAgICB1c2VyOiBwcm9jZXNzLmVudi5TTVRQX1VTRVIsXHJcbiAgICBwYXNzOiBwcm9jZXNzLmVudi5TTVRQX1BBU1MsXHJcbiAgfSxcclxufSlcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kUGF5cm9sbE5vdGlmaWNhdGlvbkVtYWlsKHN0YWZmUmVjb3JkOiBhbnksIHBheXJvbGw6IGFueSkge1xyXG4gIC8vIEZldGNoIGNvbXBhbnkgZGV0YWlsc1xyXG4gIGNvbnN0IGNvbXBhbnkgPSBhd2FpdCBwcmlzbWEuY29tcGFueS5maW5kVW5pcXVlKHtcclxuICAgIHdoZXJlOiB7IGlkOiBzdGFmZlJlY29yZC5jb21wYW55SWQgfVxyXG4gIH0pXHJcblxyXG4gIGNvbnN0IGxvZ2luTGluayA9IGAke3Byb2Nlc3MuZW52Lk5FWFRBVVRIX1VSTH0vcHJvZmlsZWBcclxuXHJcbiAgY29uc3QgbWFpbE9wdGlvbnMgPSB7XHJcbiAgICBmcm9tOiBjb21wYW55Py5lbWFpbCB8fCBwcm9jZXNzLmVudi5TTVRQX0ZST00gfHwgJ25vLXJlcGx5QGhybXMuY29tJyxcclxuICAgIHRvOiBzdGFmZlJlY29yZC5lbWFpbCxcclxuICAgIHN1YmplY3Q6IGBZb3VyIFBheXNsaXAgZm9yICR7cGF5cm9sbC5tb250aH0gJHtwYXlyb2xsLnllYXJ9YCxcclxuICAgIGh0bWw6IGBcclxuICAgICAgPGh0bWw+XHJcbiAgICAgIDxib2R5IHN0eWxlPVwiZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1wiPlxyXG4gICAgICAgIDxkaXYgc3R5bGU9XCJtYXgtd2lkdGg6IDYwMHB4OyBtYXJnaW46IGF1dG87XCI+XHJcbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogIzJjNTUzMDsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAyMHB4O1wiPlxyXG4gICAgICAgICAgICA8aDEgc3R5bGU9XCJtYXJnaW46MDtcIj4ke2NvbXBhbnk/LmNvbXBhbnlOYW1lIHx8ICdZb3VyIENvbXBhbnknfTwvaDE+XHJcbiAgICAgICAgICAgIDxoMyBzdHlsZT1cIm1hcmdpbjowO1wiPlBheXNsaXAgTm90aWZpY2F0aW9uPC9oMz5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJwYWRkaW5nOiAyMHB4OyBiYWNrZ3JvdW5kOiAjZjlmOWY5O1wiPlxyXG4gICAgICAgICAgICA8cD5IZWxsbyAke3N0YWZmUmVjb3JkLmZpcnN0TmFtZX0gJHtzdGFmZlJlY29yZC5sYXN0TmFtZX0sPC9wPlxyXG4gICAgICAgICAgICA8cD5Zb3VyIHBheXNsaXAgZm9yIDxzdHJvbmc+JHtwYXlyb2xsLm1vbnRofSAke3BheXJvbGwueWVhcn08L3N0cm9uZz4gaXMgcmVhZHkuPC9wPlxyXG5cclxuICAgICAgICAgICAgPHA+PHN0cm9uZz5OZXQgU2FsYXJ5Ojwvc3Ryb25nPiDigqYke051bWJlcihwYXlyb2xsLm5ldFNhbGFyeSB8fCBwYXlyb2xsLm5ldFBheSlcclxuICAgICAgICAgICAgICAudG9Mb2NhbGVTdHJpbmcoJ2VuLU5HJywgeyBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDIgfSl9PC9wPlxyXG5cclxuICAgICAgICAgICAgPHA+RGVwYXJ0bWVudDogJHtzdGFmZlJlY29yZC5kZXBhcnRtZW50fTwvcD5cclxuXHJcbiAgICAgICAgICAgIDxwIHN0eWxlPVwidGV4dC1hbGlnbjpjZW50ZXI7IG1hcmdpbi10b3A6MjBweDtcIj5cclxuICAgICAgICAgICAgICA8YSBocmVmPVwiJHtsb2dpbkxpbmt9XCJcclxuICAgICAgICAgICAgICAgICBzdHlsZT1cImJhY2tncm91bmQ6IzJjNTUzMDtjb2xvcjp3aGl0ZTtwYWRkaW5nOjEwcHggMjBweDtcclxuICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOjZweDt0ZXh0LWRlY29yYXRpb246bm9uZTtcIj5cclxuICAgICAgICAgICAgICAgIFZpZXcgUGF5c2xpcFxyXG4gICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgPC9wPlxyXG5cclxuICAgICAgICAgICAgPHA+QmVzdCByZWdhcmRzLDxicj4ke2NvbXBhbnk/LmNvbXBhbnlOYW1lfSBIUjwvcD5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2JvZHk+XHJcbiAgICAgIDwvaHRtbD5cclxuICAgIGAsXHJcbiAgfVxyXG5cclxuICBhd2FpdCB0cmFuc3BvcnRlci5zZW5kTWFpbChtYWlsT3B0aW9ucylcclxufVxyXG4iXSwibmFtZXMiOlsibm9kZW1haWxlciIsInByaXNtYSIsInRyYW5zcG9ydGVyIiwiY3JlYXRlVHJhbnNwb3J0IiwiaG9zdCIsInByb2Nlc3MiLCJlbnYiLCJTTVRQX0hPU1QiLCJwb3J0IiwicGFyc2VJbnQiLCJTTVRQX1BPUlQiLCJzZWN1cmUiLCJhdXRoIiwidXNlciIsIlNNVFBfVVNFUiIsInBhc3MiLCJTTVRQX1BBU1MiLCJzZW5kUGF5cm9sbE5vdGlmaWNhdGlvbkVtYWlsIiwic3RhZmZSZWNvcmQiLCJwYXlyb2xsIiwiY29tcGFueSIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImlkIiwiY29tcGFueUlkIiwibG9naW5MaW5rIiwiTkVYVEFVVEhfVVJMIiwibWFpbE9wdGlvbnMiLCJmcm9tIiwiZW1haWwiLCJTTVRQX0ZST00iLCJ0byIsInN1YmplY3QiLCJtb250aCIsInllYXIiLCJodG1sIiwiY29tcGFueU5hbWUiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsIk51bWJlciIsIm5ldFNhbGFyeSIsIm5ldFBheSIsInRvTG9jYWxlU3RyaW5nIiwibWluaW11bUZyYWN0aW9uRGlnaXRzIiwiZGVwYXJ0bWVudCIsInNlbmRNYWlsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/lib/email.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/lib/payroll/generatePayslipPdf.ts":
/*!***************************************************!*\
  !*** ./src/app/lib/payroll/generatePayslipPdf.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generatePayslipPdf: () => (/* binding */ generatePayslipPdf)\n/* harmony export */ });\n/* harmony import */ var pdfkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pdfkit */ \"(rsc)/./node_modules/pdfkit/js/pdfkit.es5.js\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_3__);\n// src/app/lib/payroll/generatePayslipPdf.ts\n\n\n\n\nfunction formatCurrency(n) {\n    const safe = Number.isFinite(n) ? n : 0;\n    return `₦${safe.toLocaleString(\"en-NG\", {\n        minimumFractionDigits: 2\n    })}`;\n}\nasync function generatePayslipPdf(input) {\n    const { staff, payroll } = input;\n    const payslipDir = path__WEBPACK_IMPORTED_MODULE_3___default().join(process.cwd(), \"public\", \"payslips\");\n    await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.mkdir)(payslipDir, {\n        recursive: true\n    });\n    const safeMonth = payroll.periodMonth.toString().padStart(2, \"0\");\n    const fileNameBase = `payslip-${staff.staffId}-${safeMonth}-${payroll.periodYear}`;\n    let fileName = `${fileNameBase}.pdf`;\n    let absPath = path__WEBPACK_IMPORTED_MODULE_3___default().join(payslipDir, fileName);\n    // avoid overwriting if already exists\n    if (fs__WEBPACK_IMPORTED_MODULE_2___default().existsSync(absPath)) {\n        fileName = `${fileNameBase}-${Date.now()}.pdf`;\n        absPath = path__WEBPACK_IMPORTED_MODULE_3___default().join(payslipDir, fileName);\n    }\n    const doc = new pdfkit__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n        margin: 40,\n        size: \"A4\"\n    });\n    const writeStream = fs__WEBPACK_IMPORTED_MODULE_2___default().createWriteStream(absPath);\n    doc.pipe(writeStream);\n    // ===== Header =====\n    doc.rect(0, 0, doc.page.width, 80).fill(\"#1e3a5f\");\n    doc.fillColor(\"#ffffff\").fontSize(18).text(staff.companyName || \"COMPANY NAME LTD\", 40, 25);\n    doc.fontSize(11).text(\"Salary Payslip\", 40, 50);\n    doc.fillColor(\"#000000\").fontSize(10).text(`Pay Period: ${safeMonth}/${payroll.periodYear}`, doc.page.width - 220, 30).text(`Generated: ${new Date().toLocaleDateString()}`, doc.page.width - 220, 45);\n    // ===== Staff block =====\n    const top = 100;\n    doc.roundedRect(40, top, doc.page.width - 80, 90, 6).fill(\"#f3f6fb\");\n    doc.fillColor(\"#000000\").fontSize(11).text(`Staff Name: ${staff.firstName} ${staff.lastName}`, 55, top + 15).text(`Staff ID: ${staff.staffId}`, 55, top + 32).text(`Email: ${staff.email}`, 55, top + 49);\n    doc.text(`Department: ${staff.department || \"N/A\"}`, doc.page.width / 2 + 10, top + 15).text(`Designation: ${staff.designation || \"N/A\"}`, doc.page.width / 2 + 10, top + 32);\n    // ===== Earnings section =====\n    let y = top + 115;\n    doc.fontSize(12).fillColor(\"#1e3a5f\").text(\"EARNINGS\", 40, y);\n    y += 15;\n    doc.moveTo(40, y).lineTo(doc.page.width - 40, y).stroke(\"#1e3a5f\");\n    y += 10;\n    const earnings = [\n        [\n            \"Basic Salary\",\n            payroll.basicSalary\n        ],\n        [\n            \"Housing Allowance\",\n            payroll.housingAllowance\n        ],\n        [\n            \"Transport Allowance\",\n            payroll.transportAllowance\n        ],\n        [\n            \"Dressing / Transportation\",\n            payroll.transportationAllowance\n        ],\n        [\n            \"Other Allowances\",\n            payroll.otherAllowances\n        ]\n    ];\n    doc.fontSize(10).fillColor(\"#000000\");\n    for (const [label, value] of earnings){\n        doc.text(label, 50, y);\n        doc.text(formatCurrency(value), doc.page.width - 180, y, {\n            width: 130,\n            align: \"right\"\n        });\n        y += 18;\n    }\n    doc.fontSize(11).fillColor(\"#0f5132\").text(\"Total Gross Pay\", 50, y + 5);\n    doc.fontSize(11).fillColor(\"#0f5132\").text(formatCurrency(payroll.grossPay), doc.page.width - 180, y + 5, {\n        width: 130,\n        align: \"right\"\n    });\n    y += 35;\n    // ===== Deductions section =====\n    doc.fontSize(12).fillColor(\"#8b0000\").text(\"DEDUCTIONS\", 40, y);\n    y += 15;\n    doc.moveTo(40, y).lineTo(doc.page.width - 40, y).stroke(\"#8b0000\");\n    y += 10;\n    const deductions = [\n        [\n            \"PAYE\",\n            payroll.payee\n        ],\n        [\n            \"Pension\",\n            payroll.pension\n        ]\n    ];\n    doc.fontSize(10).fillColor(\"#000000\");\n    for (const [label, value] of deductions){\n        doc.text(label, 50, y);\n        doc.text(formatCurrency(value), doc.page.width - 180, y, {\n            width: 130,\n            align: \"right\"\n        });\n        y += 18;\n    }\n    const totalDeductions = payroll.payee + payroll.pension;\n    doc.fontSize(11).fillColor(\"#8b0000\").text(\"Total Deductions\", 50, y + 5);\n    doc.fontSize(11).fillColor(\"#8b0000\").text(formatCurrency(totalDeductions), doc.page.width - 180, y + 5, {\n        width: 130,\n        align: \"right\"\n    });\n    y += 45;\n    // ===== Net Pay block =====\n    doc.roundedRect(40, y, doc.page.width - 80, 45, 6).fill(\"#e8f0ff\");\n    doc.fillColor(\"#0b1f44\").fontSize(14).text(\"NET SALARY\", 55, y + 13);\n    doc.fillColor(\"#0b1f44\").fontSize(14).text(formatCurrency(payroll.netPay), doc.page.width - 200, y + 13, {\n        width: 150,\n        align: \"right\"\n    });\n    y += 70;\n    // ===== Attendance =====\n    doc.fillColor(\"#000000\").fontSize(10).text(`Working Days In Month: ${payroll.daysInMonth}`, 50, y).text(`Days Worked: ${payroll.daysWorked}`, doc.page.width / 2 + 10, y);\n    // Footer\n    doc.fontSize(8).fillColor(\"#666666\").text(\"This is a system-generated payslip. No signature required.\", 40, doc.page.height - 40, {\n        align: \"center\",\n        width: doc.page.width - 80\n    });\n    doc.end();\n    await new Promise((resolve, reject)=>{\n        writeStream.on(\"finish\", ()=>resolve());\n        writeStream.on(\"error\", reject);\n    });\n    // return path as a URL-like value to store in DB\n    const publicPath = `/payslips/${fileName}`;\n    return {\n        pdfPath: publicPath\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2xpYi9wYXlyb2xsL2dlbmVyYXRlUGF5c2xpcFBkZi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBLDRDQUE0QztBQUNaO0FBQ0c7QUFDaEI7QUFDSTtBQUd2QixTQUFTSSxlQUFlQyxDQUFTO0lBQy9CLE1BQU1DLE9BQU9DLE9BQU9DLFFBQVEsQ0FBQ0gsS0FBS0EsSUFBSTtJQUN0QyxPQUFPLENBQUMsQ0FBQyxFQUFFQyxLQUFLRyxjQUFjLENBQUMsU0FBUztRQUFFQyx1QkFBdUI7SUFBRSxHQUFHLENBQUM7QUFDekU7QUFFTyxlQUFlQyxtQkFBbUJDLEtBQTJCO0lBQ2xFLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxPQUFPLEVBQUUsR0FBR0Y7SUFFM0IsTUFBTUcsYUFBYVosZ0RBQVMsQ0FBQ2MsUUFBUUMsR0FBRyxJQUFJLFVBQVU7SUFDdEQsTUFBTWpCLGtEQUFLQSxDQUFDYyxZQUFZO1FBQUVJLFdBQVc7SUFBSztJQUUxQyxNQUFNQyxZQUFZTixRQUFRTyxXQUFXLENBQUNDLFFBQVEsR0FBR0MsUUFBUSxDQUFDLEdBQUc7SUFDN0QsTUFBTUMsZUFBZSxDQUFDLFFBQVEsRUFBRVgsTUFBTVksT0FBTyxDQUFDLENBQUMsRUFBRUwsVUFBVSxDQUFDLEVBQUVOLFFBQVFZLFVBQVUsQ0FBQyxDQUFDO0lBQ2xGLElBQUlDLFdBQVcsQ0FBQyxFQUFFSCxhQUFhLElBQUksQ0FBQztJQUNwQyxJQUFJSSxVQUFVekIsZ0RBQVMsQ0FBQ1ksWUFBWVk7SUFFcEMsc0NBQXNDO0lBQ3RDLElBQUl6QixvREFBYSxDQUFDMEIsVUFBVTtRQUMxQkQsV0FBVyxDQUFDLEVBQUVILGFBQWEsQ0FBQyxFQUFFTSxLQUFLQyxHQUFHLEdBQUcsSUFBSSxDQUFDO1FBQzlDSCxVQUFVekIsZ0RBQVMsQ0FBQ1ksWUFBWVk7SUFDbEM7SUFFQSxNQUFNSyxNQUFNLElBQUloQyw4Q0FBV0EsQ0FBQztRQUFFaUMsUUFBUTtRQUFJQyxNQUFNO0lBQUs7SUFDckQs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QUksQ0FBQ0MsS0FBSyxHQUFHO0lBQUc7SUFFNUVSLElBQUk0QyxHQUFHO0lBRVAsTUFBTSxJQUFJQyxRQUFjLENBQUNDLFNBQVNDO1FBQ2hDNUMsWUFBWTZDLEVBQUUsQ0FBQyxVQUFVLElBQU1GO1FBQy9CM0MsWUFBWTZDLEVBQUUsQ0FBQyxTQUFTRDtJQUMxQjtJQUVBLGlEQUFpRDtJQUNqRCxNQUFNRSxhQUFhLENBQUMsVUFBVSxFQUFFdEQsU0FBUyxDQUFDO0lBQzFDLE9BQU87UUFBRXVELFNBQVNEO0lBQVc7QUFDL0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ocm1zLWJhY2tlbmQvLi9zcmMvYXBwL2xpYi9wYXlyb2xsL2dlbmVyYXRlUGF5c2xpcFBkZi50cz82NjliIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9hcHAvbGliL3BheXJvbGwvZ2VuZXJhdGVQYXlzbGlwUGRmLnRzXHJcbmltcG9ydCBQREZEb2N1bWVudCBmcm9tICdwZGZraXQnXHJcbmltcG9ydCB7IG1rZGlyIH0gZnJvbSAnZnMvcHJvbWlzZXMnXHJcbmltcG9ydCBmcyBmcm9tICdmcydcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcclxuaW1wb3J0IHR5cGUgeyBHZW5lcmF0ZVBheXNsaXBJbnB1dCB9IGZyb20gJy4vdHlwZXMnXHJcblxyXG5mdW5jdGlvbiBmb3JtYXRDdXJyZW5jeShuOiBudW1iZXIpIHtcclxuICBjb25zdCBzYWZlID0gTnVtYmVyLmlzRmluaXRlKG4pID8gbiA6IDBcclxuICByZXR1cm4gYOKCpiR7c2FmZS50b0xvY2FsZVN0cmluZygnZW4tTkcnLCB7IG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMiB9KX1gXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZVBheXNsaXBQZGYoaW5wdXQ6IEdlbmVyYXRlUGF5c2xpcElucHV0KTogUHJvbWlzZTx7IHBkZlBhdGg6IHN0cmluZyB9PiB7XHJcbiAgY29uc3QgeyBzdGFmZiwgcGF5cm9sbCB9ID0gaW5wdXRcclxuXHJcbiAgY29uc3QgcGF5c2xpcERpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAncHVibGljJywgJ3BheXNsaXBzJylcclxuICBhd2FpdCBta2RpcihwYXlzbGlwRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KVxyXG5cclxuICBjb25zdCBzYWZlTW9udGggPSBwYXlyb2xsLnBlcmlvZE1vbnRoLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKVxyXG4gIGNvbnN0IGZpbGVOYW1lQmFzZSA9IGBwYXlzbGlwLSR7c3RhZmYuc3RhZmZJZH0tJHtzYWZlTW9udGh9LSR7cGF5cm9sbC5wZXJpb2RZZWFyfWBcclxuICBsZXQgZmlsZU5hbWUgPSBgJHtmaWxlTmFtZUJhc2V9LnBkZmBcclxuICBsZXQgYWJzUGF0aCA9IHBhdGguam9pbihwYXlzbGlwRGlyLCBmaWxlTmFtZSlcclxuXHJcbiAgLy8gYXZvaWQgb3ZlcndyaXRpbmcgaWYgYWxyZWFkeSBleGlzdHNcclxuICBpZiAoZnMuZXhpc3RzU3luYyhhYnNQYXRoKSkge1xyXG4gICAgZmlsZU5hbWUgPSBgJHtmaWxlTmFtZUJhc2V9LSR7RGF0ZS5ub3coKX0ucGRmYFxyXG4gICAgYWJzUGF0aCA9IHBhdGguam9pbihwYXlzbGlwRGlyLCBmaWxlTmFtZSlcclxuICB9XHJcblxyXG4gIGNvbnN0IGRvYyA9IG5ldyBQREZEb2N1bWVudCh7IG1hcmdpbjogNDAsIHNpemU6ICdBNCcgfSlcclxuICBjb25zdCB3cml0ZVN0cmVhbSA9IGZzLmNyZWF0ZVdyaXRlU3RyZWFtKGFic1BhdGgpXHJcbiAgZG9jLnBpcGUod3JpdGVTdHJlYW0pXHJcblxyXG4gIC8vID09PT09IEhlYWRlciA9PT09PVxyXG4gIGRvY1xyXG4gICAgLnJlY3QoMCwgMCwgZG9jLnBhZ2Uud2lkdGgsIDgwKVxyXG4gICAgLmZpbGwoJyMxZTNhNWYnKVxyXG5cclxuICBkb2NcclxuICAgIC5maWxsQ29sb3IoJyNmZmZmZmYnKVxyXG4gICAgLmZvbnRTaXplKDE4KVxyXG4gICAgLnRleHQoc3RhZmYuY29tcGFueU5hbWUgfHwgJ0NPTVBBTlkgTkFNRSBMVEQnLCA0MCwgMjUpXHJcblxyXG4gIGRvY1xyXG4gICAgLmZvbnRTaXplKDExKVxyXG4gICAgLnRleHQoJ1NhbGFyeSBQYXlzbGlwJywgNDAsIDUwKVxyXG5cclxuICBkb2NcclxuICAgIC5maWxsQ29sb3IoJyMwMDAwMDAnKVxyXG4gICAgLmZvbnRTaXplKDEwKVxyXG4gICAgLnRleHQoYFBheSBQZXJpb2Q6ICR7c2FmZU1vbnRofS8ke3BheXJvbGwucGVyaW9kWWVhcn1gLCBkb2MucGFnZS53aWR0aCAtIDIyMCwgMzApXHJcbiAgICAudGV4dChgR2VuZXJhdGVkOiAke25ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9YCwgZG9jLnBhZ2Uud2lkdGggLSAyMjAsIDQ1KVxyXG5cclxuICAvLyA9PT09PSBTdGFmZiBibG9jayA9PT09PVxyXG4gIGNvbnN0IHRvcCA9IDEwMFxyXG4gIGRvY1xyXG4gICAgLnJvdW5kZWRSZWN0KDQwLCB0b3AsIGRvYy5wYWdlLndpZHRoIC0gODAsIDkwLCA2KVxyXG4gICAgLmZpbGwoJyNmM2Y2ZmInKVxyXG5cclxuICBkb2MuZmlsbENvbG9yKCcjMDAwMDAwJykuZm9udFNpemUoMTEpXHJcbiAgICAudGV4dChgU3RhZmYgTmFtZTogJHtzdGFmZi5maXJzdE5hbWV9ICR7c3RhZmYubGFzdE5hbWV9YCwgNTUsIHRvcCArIDE1KVxyXG4gICAgLnRleHQoYFN0YWZmIElEOiAke3N0YWZmLnN0YWZmSWR9YCwgNTUsIHRvcCArIDMyKVxyXG4gICAgLnRleHQoYEVtYWlsOiAke3N0YWZmLmVtYWlsfWAsIDU1LCB0b3AgKyA0OSlcclxuXHJcbiAgZG9jXHJcbiAgICAudGV4dChgRGVwYXJ0bWVudDogJHtzdGFmZi5kZXBhcnRtZW50IHx8ICdOL0EnfWAsIGRvYy5wYWdlLndpZHRoIC8gMiArIDEwLCB0b3AgKyAxNSlcclxuICAgIC50ZXh0KGBEZXNpZ25hdGlvbjogJHtzdGFmZi5kZXNpZ25hdGlvbiB8fCAnTi9BJ31gLCBkb2MucGFnZS53aWR0aCAvIDIgKyAxMCwgdG9wICsgMzIpXHJcblxyXG4gIC8vID09PT09IEVhcm5pbmdzIHNlY3Rpb24gPT09PT1cclxuICBsZXQgeSA9IHRvcCArIDExNVxyXG4gIGRvYy5mb250U2l6ZSgxMikuZmlsbENvbG9yKCcjMWUzYTVmJykudGV4dCgnRUFSTklOR1MnLCA0MCwgeSlcclxuICB5ICs9IDE1XHJcbiAgZG9jLm1vdmVUbyg0MCwgeSkubGluZVRvKGRvYy5wYWdlLndpZHRoIC0gNDAsIHkpLnN0cm9rZSgnIzFlM2E1ZicpXHJcbiAgeSArPSAxMFxyXG5cclxuICBjb25zdCBlYXJuaW5ncyA9IFtcclxuICAgIFsnQmFzaWMgU2FsYXJ5JywgcGF5cm9sbC5iYXNpY1NhbGFyeV0sXHJcbiAgICBbJ0hvdXNpbmcgQWxsb3dhbmNlJywgcGF5cm9sbC5ob3VzaW5nQWxsb3dhbmNlXSxcclxuICAgIFsnVHJhbnNwb3J0IEFsbG93YW5jZScsIHBheXJvbGwudHJhbnNwb3J0QWxsb3dhbmNlXSxcclxuICAgIFsnRHJlc3NpbmcgLyBUcmFuc3BvcnRhdGlvbicsIHBheXJvbGwudHJhbnNwb3J0YXRpb25BbGxvd2FuY2VdLFxyXG4gICAgWydPdGhlciBBbGxvd2FuY2VzJywgcGF5cm9sbC5vdGhlckFsbG93YW5jZXNdLFxyXG4gIF1cclxuXHJcbiAgZG9jLmZvbnRTaXplKDEwKS5maWxsQ29sb3IoJyMwMDAwMDAnKVxyXG4gIGZvciAoY29uc3QgW2xhYmVsLCB2YWx1ZV0gb2YgZWFybmluZ3MpIHtcclxuICAgIGRvYy50ZXh0KGxhYmVsLCA1MCwgeSlcclxuICAgIGRvYy50ZXh0KGZvcm1hdEN1cnJlbmN5KHZhbHVlIGFzIG51bWJlciksIGRvYy5wYWdlLndpZHRoIC0gMTgwLCB5LCB7IHdpZHRoOiAxMzAsIGFsaWduOiAncmlnaHQnIH0pXHJcbiAgICB5ICs9IDE4XHJcbiAgfVxyXG5cclxuICBkb2MuZm9udFNpemUoMTEpLmZpbGxDb2xvcignIzBmNTEzMicpXHJcbiAgICAudGV4dCgnVG90YWwgR3Jvc3MgUGF5JywgNTAsIHkgKyA1KVxyXG4gIGRvYy5mb250U2l6ZSgxMSkuZmlsbENvbG9yKCcjMGY1MTMyJylcclxuICAgIC50ZXh0KGZvcm1hdEN1cnJlbmN5KHBheXJvbGwuZ3Jvc3NQYXkpLCBkb2MucGFnZS53aWR0aCAtIDE4MCwgeSArIDUsIHsgd2lkdGg6IDEzMCwgYWxpZ246ICdyaWdodCcgfSlcclxuXHJcbiAgeSArPSAzNVxyXG5cclxuICAvLyA9PT09PSBEZWR1Y3Rpb25zIHNlY3Rpb24gPT09PT1cclxuICBkb2MuZm9udFNpemUoMTIpLmZpbGxDb2xvcignIzhiMDAwMCcpLnRleHQoJ0RFRFVDVElPTlMnLCA0MCwgeSlcclxuICB5ICs9IDE1XHJcbiAgZG9jLm1vdmVUbyg0MCwgeSkubGluZVRvKGRvYy5wYWdlLndpZHRoIC0gNDAsIHkpLnN0cm9rZSgnIzhiMDAwMCcpXHJcbiAgeSArPSAxMFxyXG5cclxuICBjb25zdCBkZWR1Y3Rpb25zID0gW1xyXG4gICAgWydQQVlFJywgcGF5cm9sbC5wYXllZV0sXHJcbiAgICBbJ1BlbnNpb24nLCBwYXlyb2xsLnBlbnNpb25dLFxyXG4gIF1cclxuXHJcbiAgZG9jLmZvbnRTaXplKDEwKS5maWxsQ29sb3IoJyMwMDAwMDAnKVxyXG4gIGZvciAoY29uc3QgW2xhYmVsLCB2YWx1ZV0gb2YgZGVkdWN0aW9ucykge1xyXG4gICAgZG9jLnRleHQobGFiZWwsIDUwLCB5KVxyXG4gICAgZG9jLnRleHQoZm9ybWF0Q3VycmVuY3kodmFsdWUgYXMgbnVtYmVyKSwgZG9jLnBhZ2Uud2lkdGggLSAxODAsIHksIHsgd2lkdGg6IDEzMCwgYWxpZ246ICdyaWdodCcgfSlcclxuICAgIHkgKz0gMThcclxuICB9XHJcblxyXG4gIGNvbnN0IHRvdGFsRGVkdWN0aW9ucyA9IHBheXJvbGwucGF5ZWUgKyBwYXlyb2xsLnBlbnNpb25cclxuXHJcbiAgZG9jLmZvbnRTaXplKDExKS5maWxsQ29sb3IoJyM4YjAwMDAnKVxyXG4gICAgLnRleHQoJ1RvdGFsIERlZHVjdGlvbnMnLCA1MCwgeSArIDUpXHJcbiAgZG9jLmZvbnRTaXplKDExKS5maWxsQ29sb3IoJyM4YjAwMDAnKVxyXG4gICAgLnRleHQoZm9ybWF0Q3VycmVuY3kodG90YWxEZWR1Y3Rpb25zKSwgZG9jLnBhZ2Uud2lkdGggLSAxODAsIHkgKyA1LCB7IHdpZHRoOiAxMzAsIGFsaWduOiAncmlnaHQnIH0pXHJcblxyXG4gIHkgKz0gNDVcclxuXHJcbiAgLy8gPT09PT0gTmV0IFBheSBibG9jayA9PT09PVxyXG4gIGRvY1xyXG4gICAgLnJvdW5kZWRSZWN0KDQwLCB5LCBkb2MucGFnZS53aWR0aCAtIDgwLCA0NSwgNilcclxuICAgIC5maWxsKCcjZThmMGZmJylcclxuXHJcbiAgZG9jLmZpbGxDb2xvcignIzBiMWY0NCcpLmZvbnRTaXplKDE0KVxyXG4gICAgLnRleHQoJ05FVCBTQUxBUlknLCA1NSwgeSArIDEzKVxyXG5cclxuICBkb2MuZmlsbENvbG9yKCcjMGIxZjQ0JykuZm9udFNpemUoMTQpXHJcbiAgICAudGV4dChmb3JtYXRDdXJyZW5jeShwYXlyb2xsLm5ldFBheSksIGRvYy5wYWdlLndpZHRoIC0gMjAwLCB5ICsgMTMsIHsgd2lkdGg6IDE1MCwgYWxpZ246ICdyaWdodCcgfSlcclxuXHJcbiAgeSArPSA3MFxyXG5cclxuICAvLyA9PT09PSBBdHRlbmRhbmNlID09PT09XHJcbiAgZG9jLmZpbGxDb2xvcignIzAwMDAwMCcpLmZvbnRTaXplKDEwKVxyXG4gICAgLnRleHQoYFdvcmtpbmcgRGF5cyBJbiBNb250aDogJHtwYXlyb2xsLmRheXNJbk1vbnRofWAsIDUwLCB5KVxyXG4gICAgLnRleHQoYERheXMgV29ya2VkOiAke3BheXJvbGwuZGF5c1dvcmtlZH1gLCBkb2MucGFnZS53aWR0aCAvIDIgKyAxMCwgeSlcclxuXHJcbiAgLy8gRm9vdGVyXHJcbiAgZG9jLmZvbnRTaXplKDgpLmZpbGxDb2xvcignIzY2NjY2NicpXHJcbiAgICAudGV4dCgnVGhpcyBpcyBhIHN5c3RlbS1nZW5lcmF0ZWQgcGF5c2xpcC4gTm8gc2lnbmF0dXJlIHJlcXVpcmVkLicsXHJcbiAgICAgIDQwLCBkb2MucGFnZS5oZWlnaHQgLSA0MCwgeyBhbGlnbjogJ2NlbnRlcicsIHdpZHRoOiBkb2MucGFnZS53aWR0aCAtIDgwIH0pXHJcblxyXG4gIGRvYy5lbmQoKVxyXG5cclxuICBhd2FpdCBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB3cml0ZVN0cmVhbS5vbignZmluaXNoJywgKCkgPT4gcmVzb2x2ZSgpKVxyXG4gICAgd3JpdGVTdHJlYW0ub24oJ2Vycm9yJywgcmVqZWN0KVxyXG4gIH0pXHJcblxyXG4gIC8vIHJldHVybiBwYXRoIGFzIGEgVVJMLWxpa2UgdmFsdWUgdG8gc3RvcmUgaW4gREJcclxuICBjb25zdCBwdWJsaWNQYXRoID0gYC9wYXlzbGlwcy8ke2ZpbGVOYW1lfWBcclxuICByZXR1cm4geyBwZGZQYXRoOiBwdWJsaWNQYXRoIH1cclxufVxyXG4iXSwibmFtZXMiOlsiUERGRG9jdW1lbnQiLCJta2RpciIsImZzIiwicGF0aCIsImZvcm1hdEN1cnJlbmN5IiwibiIsInNhZmUiLCJOdW1iZXIiLCJpc0Zpbml0ZSIsInRvTG9jYWxlU3RyaW5nIiwibWluaW11bUZyYWN0aW9uRGlnaXRzIiwiZ2VuZXJhdGVQYXlzbGlwUGRmIiwiaW5wdXQiLCJzdGFmZiIsInBheXJvbGwiLCJwYXlzbGlwRGlyIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJyZWN1cnNpdmUiLCJzYWZlTW9udGgiLCJwZXJpb2RNb250aCIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJmaWxlTmFtZUJhc2UiLCJzdGFmZklkIiwicGVyaW9kWWVhciIsImZpbGVOYW1lIiwiYWJzUGF0aCIsImV4aXN0c1N5bmMiLCJEYXRlIiwibm93IiwiZG9jIiwibWFyZ2luIiwic2l6ZSIsIndyaXRlU3RyZWFtIiwiY3JlYXRlV3JpdGVTdHJlYW0iLCJwaXBlIiwicmVjdCIsInBhZ2UiLCJ3aWR0aCIsImZpbGwiLCJmaWxsQ29sb3IiLCJmb250U2l6ZSIsInRleHQiLCJjb21wYW55TmFtZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsInRvcCIsInJvdW5kZWRSZWN0IiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJlbWFpbCIsImRlcGFydG1lbnQiLCJkZXNpZ25hdGlvbiIsInkiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJlYXJuaW5ncyIsImJhc2ljU2FsYXJ5IiwiaG91c2luZ0FsbG93YW5jZSIsInRyYW5zcG9ydEFsbG93YW5jZSIsInRyYW5zcG9ydGF0aW9uQWxsb3dhbmNlIiwib3RoZXJBbGxvd2FuY2VzIiwibGFiZWwiLCJ2YWx1ZSIsImFsaWduIiwiZ3Jvc3NQYXkiLCJkZWR1Y3Rpb25zIiwicGF5ZWUiLCJwZW5zaW9uIiwidG90YWxEZWR1Y3Rpb25zIiwibmV0UGF5IiwiZGF5c0luTW9udGgiLCJkYXlzV29ya2VkIiwiaGVpZ2h0IiwiZW5kIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJvbiIsInB1YmxpY1BhdGgiLCJwZGZQYXRoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/lib/payroll/generatePayslipPdf.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/lib/utils.ts":
/*!******************************!*\
  !*** ./src/app/lib/utils.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ApiResponse: () => (/* binding */ ApiResponse),\n/* harmony export */   formatCurrency: () => (/* binding */ formatCurrency),\n/* harmony export */   handleApiError: () => (/* binding */ handleApiError),\n/* harmony export */   validateEmail: () => (/* binding */ validateEmail),\n/* harmony export */   validateStaffId: () => (/* binding */ validateStaffId)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\nclass ApiResponse {\n    static success(data, message = \"Success\", status = 200) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message,\n            data\n        }, {\n            status\n        });\n    }\n    static error(message = \"Error\", status = 400, errors) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            message,\n            errors: errors || []\n        }, {\n            status\n        });\n    }\n    static unauthorized(message = \"Unauthorized\") {\n        return this.error(message, 401);\n    }\n    static forbidden(message = \"Forbidden\") {\n        return this.error(message, 403);\n    }\n    static notFound(message = \"Resource not found\") {\n        return this.error(message, 404);\n    }\n    static serverError(message = \"Internal server error\") {\n        return this.error(message, 500);\n    }\n}\nconst handleApiError = (error)=>{\n    console.error(\"API Error:\", error);\n    if (error instanceof Error) {\n        return ApiResponse.error(error.message);\n    }\n    return ApiResponse.serverError();\n};\nconst formatCurrency = (amount)=>{\n    return `₦${amount.toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, \"$&,\")}`;\n};\nconst validateEmail = (email)=>{\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n};\nconst validateStaffId = (staffId)=>{\n    return staffId.length >= 3 && staffId.length <= 20;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2xpYi91dGlscy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMEM7QUFFbkMsTUFBTUM7SUFDWCxPQUFPQyxRQUFRQyxJQUFTLEVBQUVDLFVBQWtCLFNBQVMsRUFBRUMsU0FBaUIsR0FBRyxFQUFFO1FBQzNFLE9BQU9MLHFEQUFZQSxDQUFDTSxJQUFJLENBQUM7WUFDdkJKLFNBQVM7WUFDVEU7WUFDQUQ7UUFDRixHQUFHO1lBQUVFO1FBQU87SUFDZDtJQUVBLE9BQU9FLE1BQU1ILFVBQWtCLE9BQU8sRUFBRUMsU0FBaUIsR0FBRyxFQUFFRyxNQUFjLEVBQUU7UUFDNUUsT0FBT1IscURBQVlBLENBQUNNLElBQUksQ0FBQztZQUN2QkosU0FBUztZQUNURTtZQUNBSSxRQUFRQSxVQUFVLEVBQUU7UUFDdEIsR0FBRztZQUFFSDtRQUFPO0lBQ2Q7SUFFQSxPQUFPSSxhQUFhTCxVQUFrQixjQUFjLEVBQUU7UUFDcEQsT0FBTyxJQUFJLENBQUNHLEtBQUssQ0FBQ0gsU0FBUztJQUM3QjtJQUVBLE9BQU9NLFVBQVVOLFVBQWtCLFdBQVcsRUFBRTtRQUM5QyxPQUFPLElBQUksQ0FBQ0csS0FBSyxDQUFDSCxTQUFTO0lBQzdCO0lBRUEsT0FBT08sU0FBU1AsVUFBa0Isb0JBQW9CLEVBQUU7UUFDdEQsT0FBTyxJQUFJLENBQUNHLEtBQUssQ0FBQ0gsU0FBUztJQUM3QjtJQUVBLE9BQU9RLFlBQVlSLFVBQWtCLHVCQUF1QixFQUFFO1FBQzVELE9BQU8sSUFBSSxDQUFDRyxLQUFLLENBQUNILFNBQVM7SUFDN0I7QUFDRjtBQUVPLE1BQU1TLGlCQUFpQixDQUFDTjtJQUM3Qk8sUUFBUVAsS0FBSyxDQUFDLGNBQWNBO0lBRTVCLElBQUlBLGlCQUFpQlEsT0FBTztRQUMxQixPQUFPZCxZQUFZTSxLQUFLLENBQUNBLE1BQU1ILE9BQU87SUFDeEM7SUFFQSxPQUFPSCxZQUFZVyxXQUFXO0FBQ2hDLEVBQUM7QUFFTSxNQUFNSSxpQkFBaUIsQ0FBQ0M7SUFDN0IsT0FBTyxDQUFDLENBQUMsRUFBRUEsT0FBT0MsT0FBTyxDQUFDLEdBQUdDLE9BQU8sQ0FBQyxxQkFBcUIsT0FBTyxDQUFDO0FBQ3BFLEVBQUM7QUFFTSxNQUFNQyxnQkFBZ0IsQ0FBQ0M7SUFDNUIsTUFBTUMsYUFBYTtJQUNuQixPQUFPQSxXQUFXQyxJQUFJLENBQUNGO0FBQ3pCLEVBQUM7QUFFTSxNQUFNRyxrQkFBa0IsQ0FBQ0M7SUFDOUIsT0FBT0EsUUFBUUMsTUFBTSxJQUFJLEtBQUtELFFBQVFDLE1BQU0sSUFBSTtBQUNsRCxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaHJtcy1iYWNrZW5kLy4vc3JjL2FwcC9saWIvdXRpbHMudHM/ZTZlMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcclxuXHJcbmV4cG9ydCBjbGFzcyBBcGlSZXNwb25zZSB7XHJcbiAgc3RhdGljIHN1Y2Nlc3MoZGF0YTogYW55LCBtZXNzYWdlOiBzdHJpbmcgPSAnU3VjY2VzcycsIHN0YXR1czogbnVtYmVyID0gMjAwKSB7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlLFxyXG4gICAgICBkYXRhXHJcbiAgICB9LCB7IHN0YXR1cyB9KVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGVycm9yKG1lc3NhZ2U6IHN0cmluZyA9ICdFcnJvcicsIHN0YXR1czogbnVtYmVyID0gNDAwLCBlcnJvcnM/OiBhbnlbXSkge1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIG1lc3NhZ2UsXHJcbiAgICAgIGVycm9yczogZXJyb3JzIHx8IFtdXHJcbiAgICB9LCB7IHN0YXR1cyB9KVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIHVuYXV0aG9yaXplZChtZXNzYWdlOiBzdHJpbmcgPSAnVW5hdXRob3JpemVkJykge1xyXG4gICAgcmV0dXJuIHRoaXMuZXJyb3IobWVzc2FnZSwgNDAxKVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGZvcmJpZGRlbihtZXNzYWdlOiBzdHJpbmcgPSAnRm9yYmlkZGVuJykge1xyXG4gICAgcmV0dXJuIHRoaXMuZXJyb3IobWVzc2FnZSwgNDAzKVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIG5vdEZvdW5kKG1lc3NhZ2U6IHN0cmluZyA9ICdSZXNvdXJjZSBub3QgZm91bmQnKSB7XHJcbiAgICByZXR1cm4gdGhpcy5lcnJvcihtZXNzYWdlLCA0MDQpXHJcbiAgfVxyXG5cclxuICBzdGF0aWMgc2VydmVyRXJyb3IobWVzc2FnZTogc3RyaW5nID0gJ0ludGVybmFsIHNlcnZlciBlcnJvcicpIHtcclxuICAgIHJldHVybiB0aGlzLmVycm9yKG1lc3NhZ2UsIDUwMClcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBoYW5kbGVBcGlFcnJvciA9IChlcnJvcjogYW55KSA9PiB7XHJcbiAgY29uc29sZS5lcnJvcignQVBJIEVycm9yOicsIGVycm9yKVxyXG5cclxuICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgcmV0dXJuIEFwaVJlc3BvbnNlLmVycm9yKGVycm9yLm1lc3NhZ2UpXHJcbiAgfVxyXG5cclxuICByZXR1cm4gQXBpUmVzcG9uc2Uuc2VydmVyRXJyb3IoKVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZm9ybWF0Q3VycmVuY3kgPSAoYW1vdW50OiBudW1iZXIpOiBzdHJpbmcgPT4ge1xyXG4gIHJldHVybiBg4oKmJHthbW91bnQudG9GaXhlZCgyKS5yZXBsYWNlKC9cXGQoPz0oXFxkezN9KStcXC4pL2csICckJiwnKX1gXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCB2YWxpZGF0ZUVtYWlsID0gKGVtYWlsOiBzdHJpbmcpOiBib29sZWFuID0+IHtcclxuICBjb25zdCBlbWFpbFJlZ2V4ID0gL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC9cclxuICByZXR1cm4gZW1haWxSZWdleC50ZXN0KGVtYWlsKVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgdmFsaWRhdGVTdGFmZklkID0gKHN0YWZmSWQ6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xyXG4gIHJldHVybiBzdGFmZklkLmxlbmd0aCA+PSAzICYmIHN0YWZmSWQubGVuZ3RoIDw9IDIwXHJcbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiQXBpUmVzcG9uc2UiLCJzdWNjZXNzIiwiZGF0YSIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJlcnJvcnMiLCJ1bmF1dGhvcml6ZWQiLCJmb3JiaWRkZW4iLCJub3RGb3VuZCIsInNlcnZlckVycm9yIiwiaGFuZGxlQXBpRXJyb3IiLCJjb25zb2xlIiwiRXJyb3IiLCJmb3JtYXRDdXJyZW5jeSIsImFtb3VudCIsInRvRml4ZWQiLCJyZXBsYWNlIiwidmFsaWRhdGVFbWFpbCIsImVtYWlsIiwiZW1haWxSZWdleCIsInRlc3QiLCJ2YWxpZGF0ZVN0YWZmSWQiLCJzdGFmZklkIiwibGVuZ3RoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/lib/utils.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/semver","vendor-chunks/bcryptjs","vendor-chunks/@prisma","vendor-chunks/jsonwebtoken","vendor-chunks/lodash.includes","vendor-chunks/jws","vendor-chunks/lodash.once","vendor-chunks/jwa","vendor-chunks/lodash.isinteger","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/postgres-array","vendor-chunks/lodash.isplainobject","vendor-chunks/ms","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isboolean","vendor-chunks/safe-buffer","vendor-chunks/buffer-equal-constant-time","vendor-chunks/exceljs","vendor-chunks/jszip","vendor-chunks/crypto-js","vendor-chunks/bluebird","vendor-chunks/nodemailer","vendor-chunks/unzipper","vendor-chunks/@fast-csv","vendor-chunks/iconv-lite","vendor-chunks/restructure","vendor-chunks/pako","vendor-chunks/uuid","vendor-chunks/readable-stream","vendor-chunks/fstream","vendor-chunks/lazystream","vendor-chunks/archiver-utils","vendor-chunks/duplexer2","vendor-chunks/compress-commons","vendor-chunks/brotli","vendor-chunks/math-intrinsics","vendor-chunks/es-errors","vendor-chunks/call-bind-apply-helpers","vendor-chunks/archiver","vendor-chunks/tar-stream","vendor-chunks/regexp.prototype.flags","vendor-chunks/readdir-glob","vendor-chunks/object.assign","vendor-chunks/object-is","vendor-chunks/graceful-fs","vendor-chunks/zip-stream","vendor-chunks/xmlchars","vendor-chunks/object-keys","vendor-chunks/glob","vendor-chunks/get-proto","vendor-chunks/fontkit","vendor-chunks/dayjs","vendor-chunks/crc32-stream","vendor-chunks/unicode-trie","vendor-chunks/object-inspect","vendor-chunks/linebreak","vendor-chunks/inherits","vendor-chunks/has-symbols","vendor-chunks/gopd","vendor-chunks/function-bind","vendor-chunks/fs.realpath","vendor-chunks/call-bind","vendor-chunks/buffer-indexof-polyfill","vendor-chunks/bl","vendor-chunks/binary","vendor-chunks/unicode-properties","vendor-chunks/async","vendor-chunks/es-get-iterator","vendor-chunks/available-typed-arrays","vendor-chunks/wrappy","vendor-chunks/which-typed-array","vendor-chunks/which-collection","vendor-chunks/which-boxed-primitive","vendor-chunks/util-deprecate","vendor-chunks/traverse","vendor-chunks/tmp","vendor-chunks/tiny-inflate","vendor-chunks/string_decoder","vendor-chunks/side-channel","vendor-chunks/side-channel-weakmap","vendor-chunks/side-channel-map","vendor-chunks/side-channel-list","vendor-chunks/set-function-name","vendor-chunks/set-function-length","vendor-chunks/saxes","vendor-chunks/safer-buffer","vendor-chunks/safe-regex-test","vendor-chunks/process-nextick-args","vendor-chunks/possible-typed-array-names","vendor-chunks/png-js","vendor-chunks/pdfkit","vendor-chunks/path-is-absolute","vendor-chunks/once","vendor-chunks/normalize-path","vendor-chunks/mkdirp","vendor-chunks/minimatch","vendor-chunks/lodash.uniq","vendor-chunks/lodash.union","vendor-chunks/lodash.isundefined","vendor-chunks/lodash.isnil","vendor-chunks/lodash.isfunction","vendor-chunks/lodash.isequal","vendor-chunks/lodash.groupby","vendor-chunks/lodash.flatten","vendor-chunks/lodash.escaperegexp","vendor-chunks/lodash.difference","vendor-chunks/lodash.defaults","vendor-chunks/listenercount","vendor-chunks/lie","vendor-chunks/isarray","vendor-chunks/is-weakset","vendor-chunks/is-weakmap","vendor-chunks/is-symbol","vendor-chunks/is-string","vendor-chunks/is-shared-array-buffer","vendor-chunks/is-set","vendor-chunks/is-regex","vendor-chunks/is-number-object","vendor-chunks/is-map","vendor-chunks/is-date-object","vendor-chunks/is-callable","vendor-chunks/is-boolean-object","vendor-chunks/is-bigint","vendor-chunks/is-array-buffer","vendor-chunks/is-arguments","vendor-chunks/inflight","vendor-chunks/immediate","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/has-property-descriptors","vendor-chunks/has-bigints","vendor-chunks/get-intrinsic","vendor-chunks/functions-have-names","vendor-chunks/fs-constants","vendor-chunks/for-each","vendor-chunks/fast-csv","vendor-chunks/es-object-atoms","vendor-chunks/es-define-property","vendor-chunks/end-of-stream","vendor-chunks/dunder-proto","vendor-chunks/dfa","vendor-chunks/define-properties","vendor-chunks/define-data-property","vendor-chunks/deep-equal","vendor-chunks/crc-32","vendor-chunks/core-util-is","vendor-chunks/concat-map","vendor-chunks/clone","vendor-chunks/chainsaw","vendor-chunks/call-bound","vendor-chunks/buffers","vendor-chunks/buffer-crc32","vendor-chunks/brace-expansion","vendor-chunks/big-integer","vendor-chunks/base64-js","vendor-chunks/balanced-match","vendor-chunks/array-buffer-byte-length"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpayroll%2Fupload%2Froute&page=%2Fapi%2Fpayroll%2Fupload%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpayroll%2Fupload%2Froute.ts&appDir=C%3A%5Chrms-project%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Chrms-project&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();