(()=>{var e={};e.id=931,e.ids=[931],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8333:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>c,originalPathname:()=>m,pages:()=>p,routeModule:()=>u,tree:()=>l}),r(35480),r(32029),r(35866);var a=r(23191),o=r(88716),i=r(37922),s=r.n(i),n=r(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(t,d);let l=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,35480)),"C:\\hrms-project\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,32029)),"C:\\hrms-project\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],p=["C:\\hrms-project\\src\\app\\page.tsx"],m="/page",c={require:r,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},8690:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},56654:(e,t,r)=>{Promise.resolve().then(r.bind(r,22615))},35303:()=>{},22615:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(10326),o=r(17577);let i=[{id:"auth-register",group:"Auth",method:"POST",path:"/api/auth/register",title:"Register new user (admin-provisioned)",description:"SUPER_ADMIN (or authorized HR) can create a new login/staff account for a company. Multi-company aware: companyId is taken from the JWT token.",auth:"Authorization: Bearer <SUPER_ADMIN token>",input:'JSON body: { email, firstName, lastName, role ("HR" | "STAFF" | "SUPER_ADMIN"), department?, position? }',output:"JSON: { success, message, data: { user: { id, email, firstName, lastName, role, department, position, companyId } } }"},{id:"auth-complete-registration",group:"Auth",method:"POST",path:"/api/auth/complete-registration",title:"Staff complete registration",description:"First-time staff self-service registration. Staff enters staffId, email, and password. System validates against StaffRecord for a specific company and enables login.",auth:"No auth required",input:"JSON body: { staffId, email, password }",output:"JSON: { success, message, data: { token, user: { id, staffId, email, firstName, lastName, department, position, role, companyId } } }"},{id:"auth-login",group:"Auth",method:"POST",path:"/api/auth/login",title:"User login",description:"Logs in a staff / HR / SUPER_ADMIN account with email and password. Returns a JWT containing companyId so all requests are auto-scoped per company.",auth:"No auth required",input:"JSON body: { email, password }",output:"JSON: { success, message, data: { token, user: { id, staffId?, email, firstName, lastName, role, department?, position?, companyId }, company?: { id, companyName, email, phone } } }"},{id:"auth-me",group:"Auth",method:"GET",path:"/api/auth/me",title:"Get current user",description:"Returns the authenticated user and company based on the JWT. Multi-company aware: companyId is read from token.",auth:"Authorization: Bearer <token>",input:"No body",output:"JSON: { success, message, data: { user: { id, staffId?, email, firstName, lastName, role, companyId }, company?: { id, companyName, email, phone } } }"},{id:"staff-upload",group:"Staff",method:"POST",path:"/api/staff/upload",title:"Upload staff records",description:"HR uploads staff master data from Excel to create or update StaffRecord rows for the current company. The company is taken from the JWT (companyId).",auth:"Authorization: Bearer <HR | SUPER_ADMIN token>",input:"multipart/form-data: file = .xlsx staff template (company-scoped via JWT companyId)",output:"JSON: { success, message, data: { uploadId, companyId, summary: { totalRecords, successful, failed }, errors?: [ { rowNumber, message } ] } }"},{id:"staff-records",group:"Staff",method:"GET",path:"/api/staff/records",title:"List staff records",description:"Returns a paginated list of staff records for the authenticated user’s company. Multi-company aware via JWT companyId.",auth:"Authorization: Bearer <HR | SUPER_ADMIN token>",input:"Optional query: page, pageSize, search",output:"JSON: { success, message, data: { companyId, items: [ { id, staffId, firstName, lastName, email, department, position, phone?, bankName?, accountNumber?, isActive } ], pagination: { page, pageSize, total } } }"},{id:"payroll-upload-post",group:"Payroll",method:"POST",path:"/api/payroll/upload",title:"Upload payroll and generate payslips",description:"HR uploads payroll Excel/CSV for one company. System parses rows, creates/updates Payroll entries, generates payslip PDFs (Payslip table), optionally sends notification emails, and records failed rows in PayrollUpload. Multi-company aware via JWT companyId.",auth:"Authorization: Bearer <HR | SUPER_ADMIN token>",input:'multipart/form-data: file = .xlsx or .csv payroll file, sendEmails = "true" | "false"',output:"JSON: { success, message, data: { uploadId, companyId, results: { successful, failed, payslipsGenerated, emailsSent, errors: [ { rowNumber, message } ] }, summary: { totalProcessed, successful, failed, payslipsGenerated, emailsSent }, failedRecordsDownload?: string } }"},{id:"payroll-upload-get",group:"Payroll",method:"GET",path:"/api/payroll/upload",title:"Download payroll template",description:"Returns the standard payroll Excel template that HR should populate and upload for the current company.",auth:"Authorization: Bearer <HR | SUPER_ADMIN token> (recommended)",input:"No body",output:"Excel file (.xlsx)"},{id:"payroll-download-failed",group:"Payroll",method:"GET",path:"/api/payroll/download-failed/[id]",title:"Download failed payroll records",description:"Downloads the Excel file containing all rows that could not be processed for a given PayrollUpload batch. Enforced by companyId from JWT.",auth:"Authorization: Bearer <HR | SUPER_ADMIN token>",input:"Path param: id = PayrollUpload.id",output:"Excel file (.xlsx) of failed rows, or JSON error if not found or not owned by your company."},{id:"profile-payslips",group:"Payslip & Profile",method:"GET",path:"/api/profile/payslips",title:"Get payslip history for logged-in staff",description:"Returns all payslips belonging to the authenticated staff member for their current company. Ideal for the staff self-service profile page.",auth:"Authorization: Bearer <STAFF | HR | SUPER_ADMIN token>",input:"No body",output:"JSON: { success, message, data: { staffId, email, companyId, payslips: [ { id, payrollId, month, year, grossPay, netPay, createdAt, fileName, downloadUrl } ] } }"},{id:"payslip-download",group:"Payslip & Profile",method:"GET",path:"/api/payslips/[id]/download",title:"Download a payslip PDF",description:"Streams a single payslip PDF. Staff can only download their own payslips for their company; HR/SUPER_ADMIN can download any payslip within their company.",auth:"Authorization: Bearer <token>",input:"Path param: id = Payslip.id",output:"PDF file (Content-Type: application/pdf) or JSON error if unauthorized or not in the same company."}];function s(){let e=(0,o.useMemo)(()=>Array.from(i.reduce((e,t)=>(e.has(t.group)||e.set(t.group,[]),e.get(t.group).push(t),e),new Map)),[]),[t,r]=(0,o.useState)(i[0]?.id??""),s=i.find(e=>e.id===t)??i[0],[n,d]=(0,o.useState)(s?.path??""),[l,p]=(0,o.useState)(""),[m,c]=(0,o.useState)(s?.method==="POST"?s?.sample?JSON.stringify(s.sample,null,2):s?.input?`// Expected input:
// ${s.input}

{ }`:"{ }":""),[u,h]=(0,o.useState)(""),[f,y]=(0,o.useState)(!1),[g,x]=(0,o.useState)(null),[b,S]=(0,o.useState)(!1),j=e=>{let t=i.find(t=>t.id===e);r(e),t&&(d(t.path),"POST"===t.method?c(t.sample?JSON.stringify(t.sample,null,2):t.input?`// Expected input:
// ${t.input}

{ }`:"{ }"):c(""),h(""),x(null),S(!1))},P=async()=>{if(s){y(!0),h(""),x(null);try{let e={};"POST"===s.method&&(e["Content-Type"]="application/json"),l.trim()&&(e.Authorization=`Bearer ${l.trim()}`);let t={method:s.method,headers:e};"POST"===s.method&&m.trim()&&(t.body=m);let a=await fetch(n,t),o=a.headers.get("content-type")||"",c=null;if(o.includes("application/json"))c=await a.json(),h(JSON.stringify(c,null,2));else{let e=await a.text();h(e)}if(s.path.includes("/api/auth/login")&&a.ok&&c?.data?.token){p(c.data.token),S(!0);let e=i.find(e=>e.path.includes("/api/auth/me"));e&&(r(e.id),d(e.path))}a.ok||x(`HTTP ${a.status} – ${a.statusText}`)}catch(e){x(e?.message||"Request failed")}finally{y(!1)}}};return(0,a.jsxs)("div",{style:{minHeight:"100vh",background:"#020617",color:"#e5e7eb",padding:"1.5rem",fontFamily:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif'},children:[(0,a.jsxs)("header",{style:{marginBottom:"1.5rem"},children:[a.jsx("h1",{style:{fontSize:"1.9rem",marginBottom:"0.25rem"},children:"HRMS Backend API Console"}),a.jsx("p",{style:{opacity:.8,maxWidth:"640px"},children:"Browse your backend endpoints, see what they expect, and fire real requests using your JWT – all from inside the app."})]}),(0,a.jsxs)("div",{style:{marginBottom:"1rem",display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[a.jsx("span",{style:{padding:"0.35rem 0.75rem",borderRadius:"999px",fontSize:"0.85rem",fontWeight:600,backgroundColor:l?"#22c55e33":"#7f1d1d",color:l?"#22c55e":"#fee2e2",border:l?"1px solid #22c55e55":"1px solid #fecaca55"},children:l?"JWT token loaded":"No token stored"}),b&&a.jsx("span",{style:{padding:"0.35rem 0.75rem",borderRadius:"999px",fontSize:"0.85rem",fontWeight:600,backgroundColor:"#0f766e",border:"1px solid #14b8a6",color:"#ccfbf1"},children:"Login successful – token saved from /auth/login"})]}),(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"minmax(260px, 360px) minmax(0, 1fr)",gap:"1.5rem"},children:[(0,a.jsxs)("aside",{style:{background:"#020617",borderRadius:"0.75rem",border:"1px solid #1e293b",padding:"1rem",maxHeight:"calc(100vh - 160px)",overflow:"auto"},children:[a.jsx("h2",{style:{fontSize:"1.1rem",marginBottom:"0.5rem"},children:"API Endpoints"}),a.jsx("p",{style:{fontSize:"0.85rem",opacity:.7,marginBottom:"0.75rem"},children:"Click an endpoint to view details and send a test request."}),e.map(([e,r])=>(0,a.jsxs)("section",{style:{marginTop:"1rem"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.35rem"},children:[a.jsx("span",{style:{fontSize:"0.9rem",fontWeight:600},children:e}),"Auth"!==e&&a.jsx("span",{style:{fontSize:"0.7rem",padding:"0.15rem 0.45rem",borderRadius:"999px",backgroundColor:"#0f172a",border:"1px solid #1f2937",opacity:.9},children:"Protected"})]}),a.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:r.map(e=>{let r=e.id===t,o="GET"===e.method?"#22c55e":"#f97316";return(0,a.jsxs)("li",{onClick:()=>j(e.id),style:{marginBottom:"0.4rem",cursor:"pointer",borderRadius:"0.5rem",padding:"0.5rem 0.55rem",backgroundColor:r?"#0f172a":"transparent",border:r?"1px solid #38bdf8":"1px solid transparent",display:"flex",flexDirection:"column",gap:"0.15rem"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.4rem"},children:[a.jsx("span",{style:{fontSize:"0.7rem",padding:"0.1rem 0.45rem",borderRadius:"999px",backgroundColor:o+"22",color:o,border:`1px solid ${o}55`,fontWeight:600},children:e.method}),a.jsx("code",{style:{fontSize:"0.75rem",background:"#020617",padding:"0.1rem 0.35rem",borderRadius:"0.25rem",border:"1px solid #111827"},children:e.path})]}),a.jsx("span",{style:{fontSize:"0.78rem",opacity:.8},children:e.title})]},e.id)})})]},e))]}),(0,a.jsxs)("main",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[s&&(0,a.jsxs)("section",{style:{background:"#020617",borderRadius:"0.75rem",border:"1px solid #1e293b",padding:"1rem"},children:[a.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"1rem",marginBottom:"0.75rem"},children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[a.jsx("span",{style:{fontSize:"0.8rem",padding:"0.15rem 0.55rem",borderRadius:"999px",background:"GET"===s.method?"#22c55e33":"#f9731633",border:"GET"===s.method?"1px solid #22c55e55":"1px solid #f9731655",color:"GET"===s.method?"#22c55e":"#f97316",fontWeight:600},children:s.method}),a.jsx("code",{style:{fontSize:"0.8rem",padding:"0.1rem 0.45rem",borderRadius:"999px",backgroundColor:"#020617",border:"1px solid #1f2937"},children:s.path}),(0,a.jsxs)("span",{style:{fontSize:"0.75rem",padding:"0.1rem 0.45rem",borderRadius:"999px",backgroundColor:"#0f172a",border:"1px solid #1f2937",opacity:.9},children:["Group: ",s.group]})]}),a.jsx("h2",{style:{marginTop:"0.6rem",fontSize:"1.1rem"},children:s.title})]})}),(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"minmax(0, 2fr) minmax(0, 1.4fr)",gap:"1rem"},children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Description"}),a.jsx("p",{style:{fontSize:"0.85rem",opacity:.85},children:s.description}),s.auth&&(0,a.jsxs)("div",{style:{marginTop:"0.6rem"},children:[a.jsx("h3",{style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Auth"}),a.jsx("code",{style:{fontSize:"0.75rem",display:"block",padding:"0.5rem",borderRadius:"0.4rem",backgroundColor:"#020617",border:"1px solid #1f2937",whiteSpace:"pre-wrap"},children:s.auth})]})]}),(0,a.jsxs)("div",{children:[s.input&&(0,a.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[a.jsx("h3",{style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Expected Input"}),a.jsx("pre",{style:{fontSize:"0.75rem",padding:"0.5rem",borderRadius:"0.4rem",backgroundColor:"#020617",border:"1px solid #1f2937",whiteSpace:"pre-wrap",maxHeight:"150px",overflow:"auto"},children:s.input})]}),s.output&&(0,a.jsxs)("div",{children:[a.jsx("h3",{style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Output Shape"}),a.jsx("pre",{style:{fontSize:"0.75rem",padding:"0.5rem",borderRadius:"0.4rem",backgroundColor:"#020617",border:"1px solid #1f2937",whiteSpace:"pre-wrap",maxHeight:"150px",overflow:"auto"},children:s.output})]})]})]})]}),(0,a.jsxs)("section",{style:{background:"#020617",borderRadius:"0.75rem",border:"1px solid #1e293b",padding:"1rem"},children:[a.jsx("h2",{style:{fontSize:"1rem",marginBottom:"0.5rem"},children:"Try this endpoint"}),(0,a.jsxs)("div",{style:{marginTop:"0.5rem"},children:[a.jsx("label",{style:{fontSize:"0.8rem",opacity:.8},children:"Endpoint"}),a.jsx("select",{value:t,onChange:e=>j(e.target.value),style:{width:"100%",padding:"0.5rem",marginTop:"0.25rem",borderRadius:"0.4rem",backgroundColor:"#020617",color:"#e5e7eb",border:"1px solid #1f2937"},children:i.map(e=>(0,a.jsxs)("option",{value:e.id,children:["[",e.group,"] ",e.method," ",e.path," – ",e.title]},e.id))})]}),(0,a.jsxs)("div",{style:{marginTop:"0.75rem"},children:[a.jsx("label",{style:{fontSize:"0.8rem",opacity:.8},children:"Path"}),a.jsx("input",{value:n,onChange:e=>d(e.target.value),style:{width:"100%",padding:"0.5rem",marginTop:"0.25rem",borderRadius:"0.4rem",backgroundColor:"#020617",color:"white",border:"1px solid #1f2937",fontFamily:"monospace"}})]}),(0,a.jsxs)("div",{style:{marginTop:"0.75rem"},children:[a.jsx("label",{style:{fontSize:"0.8rem",opacity:.8},children:"Authorization Token"}),a.jsx("input",{value:l,onChange:e=>p(e.target.value),placeholder:"Paste JWT (no 'Bearer')",style:{width:"100%",padding:"0.5rem",marginTop:"0.25rem",borderRadius:"0.4rem",backgroundColor:"#020617",color:"white",border:"1px solid #1f2937",fontFamily:"monospace"}})]}),s?.method==="POST"&&(0,a.jsxs)("div",{style:{marginTop:"0.75rem"},children:[a.jsx("label",{style:{fontSize:"0.8rem",opacity:.8},children:"Request Body (JSON)"}),a.jsx("textarea",{value:m,onChange:e=>c(e.target.value),rows:8,style:{width:"100%",padding:"0.5rem",marginTop:"0.25rem",borderRadius:"0.4rem",backgroundColor:"#020617",color:"white",border:"1px solid #1f2937",fontFamily:"monospace",fontSize:"0.85rem"}})]}),(0,a.jsxs)("div",{style:{marginTop:"1rem",display:"flex",gap:"0.75rem"},children:[a.jsx("button",{onClick:P,disabled:f,style:{padding:"0.6rem 1.4rem",borderRadius:"999px",backgroundColor:f?"#4b5563":"#22c55e",border:"none",fontWeight:700,cursor:f?"not-allowed":"pointer",color:"#020617"},children:f?"Sending…":"Send Request"}),b&&a.jsx("button",{onClick:()=>{let e=i.find(e=>e.path.includes("/api/auth/me"));e&&(r(e.id),d(e.path))},style:{padding:"0.6rem 1.4rem",borderRadius:"999px",backgroundColor:"#38bdf8",border:"none",fontWeight:700,cursor:"pointer",color:"#020617"},children:"View /auth/me ➜"})]}),g&&a.jsx("div",{style:{marginTop:"0.9rem",padding:"0.6rem",borderRadius:"0.4rem",backgroundColor:"#7f1d1d",color:"#fee2e2",fontSize:"0.85rem"},children:g}),(0,a.jsxs)("div",{style:{marginTop:"0.9rem"},children:[a.jsx("label",{style:{fontSize:"0.8rem",opacity:.8},children:"Response"}),a.jsx("pre",{style:{marginTop:"0.25rem",backgroundColor:"#020617",padding:"0.75rem",borderRadius:"0.4rem",minHeight:"130px",maxHeight:"320px",overflow:"auto",whiteSpace:"pre-wrap",border:"1px solid #1f2937",fontSize:"0.85rem"},children:u||"// Response will appear here"})]})]})]})]})]})}},32029:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>o});var a=r(19510);let o={title:"HRMS Backend System",description:"Human Resource Management System Backend"};function i({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{style:{margin:0,padding:0,backgroundColor:"#fff"},children:e})})}},35480:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(68570).createProxy)(String.raw`C:\hrms-project\src\app\page.tsx#default`)}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[377,471],()=>r(8333));module.exports=a})();